高质量的代码

# no.5 软件构建的设计

在较大开项目中，正式架构可能只关注系统级的问题，许多设计工作可能有意留给构建。  
设计没有章法，即使它产生的结果有条理。  
设计工作的一个关键部分是权衡相互竞争的设计特性。 - 存储空间  
 - 运行速度  
 - 开发时长  
 - 安全  
 - 错误处理

没有一种工具是万能的。  
设计需要设计评审、非正式讨论、写代码。  
项目失败最常见的原因是需求不到位、计划不周或管理不善。  
应该使用一种安全的、一次只专注其中一部分的方法来组织程序。目标是尽量减少任何时候都要考虑的程序的数量。  
在软件架构层面，问题的复杂性通过将系统分为子系统来降低。把复杂问题分为若干简单问题。子系统越独立，就越能使其安全地专注于解决一个复杂的点。精心定义的对象将关注点分开，这样就可以一次只专注于一件事。  
理想的设计特征

- 最小化的复杂性。
- 层次性
- 易维护
- 松耦合
- 可扩展性
- 可重用性
- 高扇入
- 低、中扇出
- 移植性
- 精简性
- 标准技术

设计的层次

- 软件系统
- 分解为子系统
- 分解包中的类
- 分解为类中的数据和子程序
- 设计内部子程序

隐藏秘密（信息隐藏）

- 结构化设计的结果
- 保护自身的隐私权
- 类的接口应尽可能少地透露内部运作（增加内聚性）
- 容易实现松耦合

设计类的接口是一个迭代过程。一般会设计几次。  
容易变动的区域

1. 确定可能会变动的地方
2. 分离可能发生变化的项
3. 隔离可能发生变化的项

设计模式

- 力求强内聚性
- 建立层次结构
- 正式化类的契约
- 分配职责
- 为测试而设计
- 避免失败
- 有意识地选择绑定时间
- 建立中心控制点
- 考虑使用蛮力
- 画图
- 保持设计的模块化

设计往往需要从高层和低层 2 个角度，多次反复考虑。  
自上而下的设计方法。是分解策略。从一般性问题出发，将其分解成可管理的部分。
自下而上的设计方法。是合成策略。从可管理的部分出发，组成一般性的解决方案。  
二者相辅相成。

宁愿用 80%的设计工作用于创建和探索多种备选设计方案，20%用于创建粗略不太精练的文档。

# no.6 可以工作的类

# no.7 高质量的子程序

# no.8 防御式编程

# no.9 伪代码编程过程
