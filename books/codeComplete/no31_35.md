软件匠艺

# no.31 代码和布局和风格

优秀的程序员可从代码的视觉结构优化活动中得到极大的艺术享受。
代码布局可影响理解、检查、修改代码。
代码布局把程序员分为卓越、庸常。

## 代码布局的基本原理

好的布局能够清楚地呈现程序的逻辑结构。
逻辑清晰 > 布局好看

知识结构可以帮助我们记住特定类型的信息。
团队编码的底线是：程序的结构必须保持一致。
优秀的程序员对布局风格保持开放的态度，虚心授受证明更好的做法。适当少用或不用自己惯用的。

## 好的代码布局的目标

|                                      |     |     |
| ------------------------------------ | --- | --- |
| 准确展现代码的逻辑结构               |     |     |
| 始终以一致的方式来展现代码的逻辑结构 |     |     |
| 有利于增强代码的可读性               |     |     |
| 方便对代码进行修改                   |     |     |

## 布局技术

|      |                    |     |
| ---- | ------------------ | --- |
| 空白 | 分组、空行、缩进、 |     |
| 括号 |                    |     |

## 布局风格

|                               |                                |                      |
| ----------------------------- | ------------------------------ | -------------------- |
| 纯程序块                      |                                |                      |
| 模拟程序块                    |                                |                      |
| 使用成对的开始-结束界定程序块 |                                |                      |
| 行尾布局                      | 代码缩进到行的中间或结束于行尾 | 不准确，难保存一致。 |

## 控制结构的布局

|                                            |     |     |
| ------------------------------------------ | --- | --- |
| 避免无缩进的开始-结束标记                  |     |     |
| 避免开始和结束的双重缩进                   |     |     |
| 用空行隔开不同的代码段                     |     |     |
| 单语句的格式要保持一致                     |     |     |
| 对于复杂的表达式，不同的条件放在不同的行上 |     |     |
| 避免使用 goto 语句                         |     |     |
| cas 语句不要用行尾布局                     |     |     |
| case 语句与逻辑不同行                      |     |     |

## 单条语句的布局

|                                |                                    |                       |
| ------------------------------ | ---------------------------------- | --------------------- |
| 用空行来澄清语句想要表达的意图 |                                    |                       |
| 长语句续行                     | 有意使语句显得不完整               |                       |
|                                | 相关元素放在一起                   |                       |
|                                | 子程序调用，换行后使用标准缩进     |                       |
|                                | 续行的结尾要容易查找               |                       |
|                                | 控制语句的续行，要使用标准缩进量。 |                       |
|                                | 不要对齐到赋值语句的右侧           |                       |
|                                | 赋值语句的续行，采用标准缩进量     |                       |
| 一行只放一条语句               |                                    | js 中有解构赋值的情况 |

## 数据声明的布局

|                                    |     |     |
| ---------------------------------- | --- | --- |
| 一行只一个数据声明                 |     |     |
| 变量的声明紧接在首次使用之后       |     |     |
| 如果是多条声明，要合理组织先后顺序 |     |     |
| 星号靠近变量名                     |     |     |

## 注释的布局

|                        |     |     |
| ---------------------- | --- | --- |
| 注释与对应代码对齐     |     |     |
| 每个注释，至少要空一行 |     |     |

## 子程序的布局

|                              |     |     |
| ---------------------------- | --- | --- |
| 空行隔开各部分               |     |     |
| 子程序的参数，要使用标准缩进 |     |     |

## 类的布局

|                          |     |     |
| ------------------------ | --- | --- |
| 一个文件中只放一个类     |     |     |
| 文件名要与类名相关       |     |     |
| 各子程序之间要隔开       |     |     |
| 按字母顺序排列           |     |     |
| 源文件中内容的组织很重要 |     |     |

# no.32 自文档代码

# no.33 title

# no.34 title

# no.35 title
