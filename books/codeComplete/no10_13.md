# no.10 变量使用中的常规问题

每个变量只有一个用途。  
尽可能缩短变量的存活时间。

|              |     |     |
| ------------ | --- | --- |
| 关闭隐匿声明 |     |     |
| 声明所有变量 |     |     |
| 遵循命名规范 |     |     |
| 检查变量名   |     |     |

## 变量初始化指南

|                                                            |                     |     |
| ---------------------------------------------------------- | ------------------- | --- |
| 有声明时初始化每个变量                                     |                     |     |
| 在靠近首次使用的地方初始化每个变量                         | 就近原则            |     |
| 在理想情况下，应在靠近首次使用变量的地方声明和定义每个变量 |                     |     |
| 尽量使用 final/const                                       | const 常量 let 变量 |     |
| 特别注意计数器和累加器                                     |                     |     |
| 在构造函数中初始化该类的成员数据                           |                     |     |
| 检查是否需要重新初始化                                     |                     |     |
| 使用编译器设置来自动初始化所有变量                         |                     |     |
| 利用编译器的警告信息                                       |                     |     |
| 检查输入参数的合法性                                       |                     |     |
| 使用内存访问检测工具来检查错误的指针                       |                     |     |

## 缩小作用域的一般原则

- 在循环之前立即初始化循环中使用的变量。
- 在使用变量前不为其赋值
- 把相关语句放在一起
- 把相关语句组拆分成单独的子程序
- 开始时严格限制可见性，若非必要，不宜扩大变量的作用域

# no.11 变量名称的威力

|                |                                                                                                                                            |     |     |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------ | --- | --- |
| 最优长度       | 9-16                                                                                                                                       |     |     |
| 总数           | count / total                                                                                                                              |     |     |
| 索引           | index                                                                                                                                      |     |     |
| 循环索引       | i j k u n                                                                                                                                  |     |     |
| 变量中的对仗词 | begin/end first/last locked/unlocked min/max next/previous old/new opend/closed visible/invisible source/target source/destination up/down |     |     |
| 状态变量的命名 |                                                                                                                                            |     |     |
| 临时变量的命名 | temp x t                                                                                                                                   |     |     |
| 布尔变量的命名 | done error found success ok                                                                                                                |     |     |
| 枚举类型的命名 |                                                                                                                                            |     |     |
| 常量的命名     | const final 大写                                                                                                                           |     |     |
| 最优长度       |                                                                                                                                            |     |     |
| 最优长度       |                                                                                                                                            |     |     |
| 最优长度       |                                                                                                                                            |     |     |
| 最优长度       |                                                                                                                                            |     |     |
| 最优长度       |                                                                                                                                            |     |     |

用户自定义类型缩写 udt

为什么要有规范

|                                |     |     |
| ------------------------------ | --- | --- |
| 让大家觉得更理所当然           |     |     |
| 有助于在新项目中更快地学习代码 |     |     |
| 减少全名的扩散                 |     |     |
| 弥补编程语言的不足             |     |     |
| 强调相关变量之间的关系         |     |     |

非正式的命名规范
||||
|-|-|-|
|区分变量名和子程序名|||
|区分类和对象|||
|标识全局变量|||
|标识成员变量|||
|标识类型定义|||
|标识具名常量|||
|标识枚举类型的元素|||

创建可读的短名称

|                                                                                                |     |     |
| ---------------------------------------------------------------------------------------------- | --- | --- |
| 使用标准的缩写                                                                                 |     |     |
| 去掉所有非前置元音                                                                             |     |     |
| 删除虚词                                                                                       |     |     |
| 使用每个单词的第一个或前几个字母                                                               |     |     |
| 在每个单词的第一、第二、第三个字母后持续截断，选择最合适的一个                                 |     |     |
| 保留每个单词的第一个和最后一个字母                                                             |     |     |
| 使用名字中每个重要单词，最多不越过三个                                                         |     |     |
| 删除无用的后缀 ing/ed/...                                                                      |     |     |
| 保留每个音节中最引人注意的发音                                                                 |     |     |
| 确保不改变变量的含义                                                                           |     |     |
| 反复使用这些技术，直到将每个变量名的长度缩减到 8-20 个字符之间，或者语言对变量名限制的字符数。 |     |     |

变量名称避坑指南

|                                        |                  |     |
| -------------------------------------- | ---------------- | --- |
| 避免使用误导性的命名和缩写             |                  |     |
| 避免使用含义相似的命名                 |                  |     |
| 避免使用含义不同但命名相似的变量       |                  |     |
| 避免使用发音相近的命名                 | wrap/rap queen/q |     |
| 避免在命名中使用数字                   |                  |     |
| 避免在名称中拼错单词                   |                  |     |
| 避免使用英语中常常拼错的单词           |                  |     |
| 避免使用多种自然语言                   |                  |     |
| 不要使用与变量所代表内容完全无关的名称 |                  |     |
| 避免在命名中包含容易混淆的字符         |                  |     |

# no.12 基本数据类型

# no.13 title
