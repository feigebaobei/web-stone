<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>&#x7f16;&#x5199;&#x53ef;&#x7ef4;&#x62a4;&#x7684;javascript</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="编写可维护的javascript">编写可维护的javascript</h1>
<blockquote>
<p>原著：Maintainable Javascritp
这是在一次与同事合作时，从代码可规范聊到了这本书。他的前老大是译者。
中文版本只有200+页。一会儿就看完了。
作者: Nicbolas C.Zakas
译者：李晶 郭凯 张散集
你的团队编程可以从狭义的个人偏好的阴霾中走出来，走向真正的高效能和高水准。</p>
</blockquote>
<h1 id="第一部分-编程风格">第一部分 编程风格</h1>
<blockquote>
<p>程序是写给人读的，只是偶尔让计算机执行一下。————Donald Knuth</p>
</blockquote>
<p>风格一致的重要性：</p>
<ul>
<li>减少理解代码逻辑的成本。</li>
<li>减少重新排版。</li>
</ul>
<p>格式化工具：</p>
<ul>
<li>JSLint 可发现代码的潜在错误。</li>
<li>JSHint</li>
</ul>
<h2 id="基本的格式化">基本的格式化</h2>
<ul>
<li>缩进层级。在2个空格、4个空格、8个空格中选择了了4个空格。</li>
<li>语句结尾是否有;。ASI（Automatic Semicolon Insertion）可以使js省略分号也能正常工作。作者推荐有分号。</li>
<li>行的长度。最长不过80个字符。（源于很久前的文本编辑器）。有几个选项。&lt;=70/&lt;=100/&lt;=80/&lt;=79</li>
<li>空行。用空行分隔不相关的代码。方法之间、局部变量与第一条语句之间、多行或单行注释之间、方法与注释之间</li>
<li>命名。驼峰式。匈牙利命名法。
<ul>
<li>动词
<ul>
<li>can 返回一个boolean</li>
<li>has 返回一个boolean</li>
<li>is 返回一个boolean</li>
<li>get 取一个值</li>
<li>set 存一个值</li>
</ul>
</li>
</ul>
</li>
<li>常量。全大写。</li>
<li>构造函数。大驼峰命名。</li>
</ul>
<h3 id="直接量">直接量</h3>
<p>字符串
数字
null 使用场景如下：</p>
<ul>
<li>初始化一个变量。</li>
<li>与已经初始化的变量比较。</li>
<li>当函数的参数期望是对象时，用作参数传入。</li>
<li>当函数的返回值期望是对象时，用作返回值返回。
不使用场景如下：</li>
<li>不使用null检测是否传入指定参数。</li>
<li>不使用null检测是否初始化变量。
undefined
对象直接量（直接写出对象的所有属性）</li>
</ul>
<pre><code>let book = {
    title: 'str',
    author: 'str',
}
// 反对使用下面的写法
let book = new Object()
book.title = 'str'
book.author = 'str'
</code></pre>
<p>数组直接量</p>
<pre><code>let arr = [1, 2, 3]
// 反对使用下面的写法
let arr = new Array(1, 2, 3, 4)
</code></pre>
<h2 id="注释">注释</h2>
<p>单行注释
多行注释</p>
<pre><code>// 单行注释
/*
多行注释
*/
</code></pre>
<p>单行注释不应当以连续多行注释的形式出现，注释多行时应该使用多行注释。
注释前要有空行
使用注释的场景：</p>
<ul>
<li>难于理解的代码</li>
<li>可能被误认为错误的代码</li>
<li>浏览器特性hack
文档注释</li>
</ul>
<pre><code>/** 该方法的功能
@method fn         方法的说明
@param  one string 参数一的说明
@param  two number 参数二的说明
@return     object 返回值的说明
**/
</code></pre>
<h2 id="语句和表达式">语句和表达式</h2>
<p>编程分格:</p>
<ul>
<li>Dojo编程风格</li>
<li>Crockford编程风格</li>
<li></li>
<li></li>
</ul>
<pre><code>// Dojo编程风格
if(condition){
    ....
}
// Crockford编程风格
if (condition) {
    ....
}
// jQuery采用此风格编程
if ( condition ) {
    ....
}
</code></pre>
<p>with语句
可以改变包含上下文解析变量的方式。通过with可以直接使用局部变量和函数的形式来访问特定对象内的属性和方法。如下：</p>
<pre><code>let book = {
    title: 'str',
    author: 'str',
}
let msg = 'str'
with (book) {
    msg += title
    msg += author
}
</code></pre>
<pre><code>// for-in
for (let k in obj) { // k包含了从原型对象上的属性。
    if (obj.hasOwnProperty(k)) { // 只取当前对象的属性
        ...
    }
}
</code></pre>
<h2 id="变量函数和运算符">变量、函数和运算符</h2>
<p>js编程的本质是编写一个个的函数来完成任务，在函数内部，变量和运算符可以通过移动操作字节来使某件事发生。因此在讨论过基本的js书写格式后，接下来关注如何使用函数、变量和运算符来减少复杂度各增强可读性就显得十分重要了。
变量声明：
var可使变量提升
总是将局部变量定义放在函数内第一条语句。</p>
<h1 id="第二部分-编程实践">第二部分 编程实践</h1>
<h2 id="ui层的松耦合">UI层的松耦合</h2>
<h2 id="避免使用全局变量">避免使用全局变量</h2>
<h2 id="事件处理">事件处理</h2>
<h2 id="避免空比较">避免“空比较”</h2>
<h2 id="将配置数据从代码中分离出来">将配置数据从代码中分离出来</h2>
<h2 id="抛出自定义错误">抛出自定义错误</h2>
<h2 id="不是你的对象不要动">不是你的对象不要动</h2>
<h2 id="浏览器嗅探">浏览器嗅探</h2>
<h1 id="第三部分-自动化">第三部分 自动化</h1>
<h2 id="文件和目录结构">文件和目录结构</h2>
<h2 id="ant">Ant</h2>
<h2 id="校验">校验</h2>
<h2 id="文件合并和加工">文件合并和加工</h2>
<h2 id="文件精简和压缩">文件精简和压缩</h2>
<h2 id="文档化">文档化</h2>
<h2 id="自动化测试">自动化测试</h2>
<h2 id="组装在一起">组装在一起</h2>
<h1 id="附录a-javascript编程风格指南">附录A Javascript编程风格指南</h1>
<h1 id="附录b-javascript工具集">附录B Javascript工具集</h1>

            
            
        </body>
        </html>