# browser-use

> 项目核心价值：号称基于 ai 的浏览器自动化框架。通过把 llm&pw 浏览器控制技术深度整合。解决了传统自动化工具元素定位不稳定、智能化程度低的核心痛点。该项目在技术架构上采用了创新的“状态机驱动的任务规划模块”。通过三层架构设计实现了从自然语言指令到浏览器操作的完整闭环。通过深入的源码分析，发现其工程实现具有高度模块化和可扩展性特点，在智能元素定位、多标签页管理和自我纠正机制等方面表现突出。
> 关键发现：该项目在技术架构层面采用驱动层、抽象层、决策层的三层设计。代码实现中体现了优秀的设计模式应用，但在生产级部署和企业集成方面仍需完善。
> 核心结论与建议：推荐试点，小范围验证。建议在 xxx 中先行试点。验证其在生产环境的技术稳定性和业务价值。

## 产品概览与核心特性

### 产品定位

属于 ai 驱动的 web 自动化智能体细分领域。
通过“agent 决策链+控制执行器+dom 信息流”的架构体系，降低了复杂网页任务的开发门槛。

### 核心功能：

- 根据自然语言描述，ai agent 驱动完成浏览器操作
- 内置多模态交互能力。融合 dom 解析与视觉识别技术，实现全方位的网页理解和交互。
- 提供了云端沙箱能力、自动处理认证、cookie、代理等复杂场景，具备企业级扩展能力。
- 支持私有化部署与多智能体协同。满足不同规模企业的业务需求。

## 技术架构与核心代码解读

```
                                    |---------|
                                    |  用户    |
                                    |---------|
                                        |
                                        |创建或使用
                                        V
    |----------------|   管理消息   |---------|   协调          |-----------|
    | MassageManager | <---------  |  agent  | -------------> | controller |
    |----------------|       ----- |---------| <------------- |-----------|
            |                |  |->     |      <---|    返回结果      |
            | 准备消息        |  |       |记录       |   返回状态       |执行
            V           调用 |  |       V           |------------     V
     |-------------| <-------|  |  |--------------------|        |----------------|
     |  llm(决策者) | -----------|  |  productTelemetry  |        | browser操作对象 |
     |-------------|   返回决策     |--------------------|        |----------------|
                                                                    |
                                                                    |使用
                                                                    V
                                                                |---------------|
                                                                |  DomService   |
                                                                |  dom处理者     |
                                                                |---------------|


```

### 核心架构优势

模块化设计

- agent 任务规划与状态管理，调用 ds-chat 生成操作链
- controller 动作注册与执行，解析模型输出的 json 指令
- browser 基于 pw 封装与视觉模型整合
- dom 服务 元素定位与信息提取，生成 xPath 供模型决策

技术价值体现：
与传统自动化工具相比，bu 打破了传统工具局限，将 llm 的语义理解能力与浏览器自动化深度绑定，解决了传统工具元素定位不稳定、跨平台兼容性差、智能化程度低等痛点。

结合公司的业务决定试用场景。

## 公司业务适用场景分析

预期价值：

- 效率提升
  - ui 测试执行效率：从传统手工测试的数小时缩短到分钟级，效率提升 0.85-0.9
  - 测试脚本开发：通过自然语言描述自动生成可执行脚本，开发效率提升 0.70+
  - 回归测试周期：从每周压缩到每日执行，测试频率提升 5 倍。
- 成本节约
  - 人力成本：减少专职 ui 测试工程师配置，预计节约测试团队人力成本 0.4-0.5
  - 环境成本：无需维护复杂的测试环境矩阵。基础设施成本降低 0.35
  - 质量成本：通过早期缺陷发现，减少生产环境问题修复成本 0.6+
- 能力创新
  - 实现智能元素定位，抵抗前端代码变更对自动化脚本的影响
  - 构建自适应测试体系，根据业务变化自动调整测试策略和覆盖范围。
  - 建立实时质量监控，提供 7\*24h 的前端质量保障。

## 与现有技术栈整合

集成难度分析

- 微服务架构
- 数据平台
- 认证系统
  成本评估
- 初期投入：需要投入 3 个团队月进行技术验证和原型开发，加上 2 个团队月的测试用例迁移和重构，基础设施搭建费用 15-20w
- 持续维护：预计需要 1-2 名专职工程师负责系统维护和优化
- 年度收益：测试人力成本节约 60-80W。产品质量提升带来的业务损失减少估算 100w+

## 风险与挑战

技术风险：技术理念较为超前，但在稳定性方面存在以下风险。

- 动态页面支持不足。对 canvas/webg 等高度动态化应用的元素识别存在误差，需要人工校验辅助，在测试在线设计平台时可能无法准确点击悬浮工具栏图标。
- 性能压测受限：单实例设计难以模拟千级并发用户，
- 依赖第三方库风险：基于 pw&langChain 构建，底层缺陷可能影响稳定性。
  社区风险：资本支持与社区活跃降低了停止维护的风险，但仍需关注其开源协议的长期兼容性。
  成本风险
- llm 服务成本：模型选择与调用频率是主要驱动因素，占总成本 0.65-0.7
- 计算资源成本：容器规格与实例数配置影响 0.4-0.55 的成本支出
- 存储占用成本：视频录制与缓存策略优化可节省 0.7-0.8 的存储费用
- 网络流量成本：vnc 传输与 cdp 通信优化可降低 0.3-0.4 的网络开销
  可控性与对齐风险
  三重定位系统：通过语义定位（ds v3 解析）、视觉定位（ocr 技术）、行为定位（操作历史预测）提升行为可预测性。
  自我纠正能力：失败时自动重试最多 3 次，动态调整策略应对页面改版。

## 结论与具体建议

综合评估总结
|评估维度|评分（5 分）|简要说明|
|-|-|-|
|技术先进性|4|1. 采用创新的 ai 驱动浏览器自动化框架，结合 pw&langChain 实现智能操作。2.支持 llm 提供商，具备语义定位、视觉定位和行为定义三重系统。3. 局限性：对动态页面（canvas/webgl）支持不足，性能压测能力较弱。|
|工程化成熟度|3.5|1. 文档完善，模块化设计清晰，支持本地模型适配。 2. 缺乏生产级监控手段，部分验证逻辑存在设计缺陷。3. 需要通过`_set_tool_calling_method`函数解决工具调用方法匹配问题。|
|社区与生态|4.5|1. 社区活跃（github star 63.4）获 yc 等机构 1700W 美元融资。 2. 商业案例较少，但生态扩展性强，支持多 llm 集成。3. 需要关注 mcp 开源协议的长期兼容性风险。|
|业务契合度|4|1. 高度契合需要浏览器自动化的场景（如 xxxx）. 2. 对复杂业务需要定制提示词工程，增加开发门槛。 3. 敏感操作（如数据抓取）需要额外配置合规校验|
|引入成本|3|1. 学习成本：中等，需要掌握提示词工程和 agent 决策链设计。 2. 部署成本：较低（容器化支持），但 llm 服务占用成本 0.65-0.75. 3. 隐性成本包括计算资源（0.4-0.55）、存储优化（0.7-0.8）和网络流量（0.3-0.4）|

可借鉴的工程化实践

- 设计模式
  - 可借鉴点：bu 采用“智能体分层协作”架构，通过 browser/agnet/planner 等模块实现职责分离，使得浏览器操作、任务规划和决策执行高度解耦。
  - 我方现状：目前我们的自动化脚本为线性过程调用，功能耦合度高，难以复用。
  - 改进建议：借鉴其分层思想，将浏览器操作、业务逻辑和 ai 决策分离，构建模块化和智能体系统。
- 关键模块、库
  - 可借鉴点：browser 模块封装了完整的浏览器操作能力，支持点击、输入、滚动等原子操作，并通过 agent 模块统一调度。
  - 我方现状：浏览器操作代码散落在各个测试脚本中，维护成本高。
  - 改进建议：基于 pw 构建统一的浏览器操作 sdk，为不同业务场景提供标准化的浏览器交互能力。
- 测试与调试
  - 可借鉴点：项目通过录制浏览器操作会话（含 dom 快照和操作序列）来进行回归测试，确保操作可重现。
  - 我方现状：浏览器自动化测试依赖手动编写脚本、稳定性差。
  - 改进建议：建立浏览器操作录制回放机制，为核心业务流程建立自动化回归测试套件。
- 配置化能力
  - 可借鉴点：支持通过 nl（自然语言）描述任务目标，由 ai 自动生成操作序列，大大降低了使用门槛。
  - 我方现状：自动化脚本需要技术人员手动编写，业务人员无法参与。
  - 改进建议：开发自然语言到浏览器操作的翻译层，让业务人员能够通过简单描述实现自动化需求。

## 最终建议

推荐选项：推荐试点，小范围验证。
|评估维度|评估详情|
|-|-|
|技术适配性|1. bu 的 ai 驱动浏览器自动化能力与金融科技场景（如 xxx）有较高契合度。 2. 动态页面支持不足，可能影响部分业务场景的稳定性。|
|风险控制|通过小规模试点验证：1. 三重定位在真实业务中的准确率。2. llm 服务成本占比（0.65-0.75）是否在预算范围内|
|资源投入|无需立即成立专项小组，但需配置：1. 1 名熟悉 pw 的工程师负责技术适配。 2. 业务专家与提示词工程优化。 3. 3-4 周 poc 周期（含 2 轮迭代验证）|
|长期价值|成功试点后可逐步扩展至：1. 智能客服的跨平台信息采集。 2. 风控系统的自动化数据核验。 3. 运营报表的定时生成与分发|
|实施建议|试用场景选择：1. 优先考虑低风险高价值场景。 2. 监控报表的自动生成与提交。 3. 合作机构官网的数据抓取|
|监控指标|1. 执行准确率>= 0.95 <0.9 时触发人工复核 2. 单任务耗时<=人工操作的 0.5 >人工操作的 0.8 3. llm 调用成本<=预算的 0.7 超预算的 0.1 时告警|
|退出机制|若出现以下情况建议终止试点：1. 核心业务场景准确率持续低于 0.85 2. 隐性成本（如运维人力）超预期 0.3 3. 与现有系统集成难度过高|

## 下一步行动计划

xx 团体组建 poc 团队，在 2026.06.30 前完成 ui 测试智能化的投产验证，并输出“衡量指标”的对比报告。
