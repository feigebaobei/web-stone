<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>requestAnimationFrame</title>
</head>
<body>
	<div id="some-element-you-want-to-animate"></div>
	<script type="text/javascript">
		// let flag = 0
		// let animate = (time) => {
		// 	console.log(time)
		// 	let i = 0
		// 	while(i++ < 10000 && flag++ < 100) {
		// 		window.requestAnimationFrame(animate)
		// 	}
		// }
		// window.requestAnimationFrame(animate)

		const element = document.getElementById('some-element-you-want-to-animate');
let start, previousTimeStamp;

function step(timestamp) {
	console.log(timestamp);
  if (start === undefined)
    start = timestamp;
  const elapsed = timestamp - start;

  if (previousTimeStamp !== timestamp) {
    // Math.min() is used here to make sure the element stops at exactly 200px
    const count = Math.min(0.1 * elapsed, 200);
    element.style.transform = 'translateX(' + count + 'px)';
  }

  if (elapsed < 2000) { // Stop the animation after 2 seconds
    previousTimeStamp = timestamp
    window.requestAnimationFrame(step);
  }
}

setTimeout(() => {
	window.requestAnimationFrame(step);
}, 500);
	</script>
</body>
</html>