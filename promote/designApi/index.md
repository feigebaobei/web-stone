# 设计 api

## 何时时会用到

- 开源项目
- 商用项目
- 基础服务项目

## 如何设计

|     | 正向设计的方式                                                 | 负向设计的方式                   |     |
| --- | -------------------------------------------------------------- | -------------------------------- | --- |
|     | 参数统一、返回值统一、编码方式统一                             |                                  |     |
|     | 明确本项目的功能。只做功能范围内的。扩展功能交给生态圈、周边。 | 把相关的都搞进去，结果又大又重。 |     |
|     | 每个 api 都有用例。                                            | 开发了永远不会用到的 api.        |     |
|     | 未来会用到的                                                   |                                  |     |
|     | 分层设计。高层 api 使用低层 api。                              |                                  |     |
|     | 有配套文档                                                     |                                  |     |
|     | 对内有 uml 图                                                  |                                  |     |
|     |                                                                |                                  |     |
|     |                                                                |                                  |     |

## 为谁设计

- 明确目标受众。靠近对方使用习惯。

## 设计结构的影响

## 后期迭代（维护）

- 在项目的功能范围内扩展
- api 复用
- 及时更新文档
