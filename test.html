<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <link href="./pwa.js" as="script"> 不能正常工作 -->
    <!-- <script src="./pwa.js"></script> -->
    <!-- <script src="./watch.js" defer></script>
    <script src="./sw.js"></script>
    <script src="./test.js" preload></script> -->
    <!-- <script src="./test.js" async></script> -->
    <!-- <script src="./test.js" async ref="prefetch"></script> -->
    <!-- <link rel="preload" href="./sw.js" as="script"> -->
    <!-- <link rel="preload" href="./pwa.js" as="script"> -->
    <!-- <link rel="prefetch" href="./sw.js" as="script"> -->
  </head>
  <body>
    <script>
      const clog = console.log
      const j = (o) => {
        clog(JSON.parse(JSON.stringify(o)))
      }
      

      


  let _height = (node, h = 0) => {
    // console.log(node, h)
    let res
    if (!node) {
      res = h
      // return h
    } else if (node.left && node.right) {
      // console.log('h', node.value, h)
      res = Math.max(_height(node.left, h), _height(node.right, h)) + 1
      // return Math.max(_height(node.left, h + 1), _height(node.right, h + 1)) + 1
    } else if (node.left) {
      // console.log('h', node.value, h)
      res = _height(node.left, h) + 1
      // return _height(node.left, h) + 1
    } else if (node.right) {
      // console.log('h', node.value, h)
      res = _height(node.right, h) + 1
      // return _height(node.right, h) + 1
    } else {
      // console.log('h', node.value, h)
      res = h + 1
      // return h + 1
    }
    // console.log('res', res)
    return res
  }

    //     2
    //  1     3
    // 4 5   6 7 
  let root = {
    value: 2,
    left:  {
      value: 1,
      left:  {
        value: 4,
        left: null,
        right: null
      },
      right:  {
        value: 5,
        left: null,
        right: null
      }
    },
    right:  {
      value: 3,
      left:  {
        value: 6,
        left: null,
        right: null
      },
      right:  {
        value: 7,
        left: null,
        right: {
          value: 8,
          left: null,
          right: null
        }
      }
    }
  }
  clog(_height(root))

      


    </script>
  </body>
</html>
