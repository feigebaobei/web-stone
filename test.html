<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <link href="./pwa.js" as="script"> 不能正常工作 -->
    <!-- <script src="./pwa.js"></script> -->
    <!-- <script src="./watch.js" defer></script>
    <script src="./sw.js"></script>
    <script src="./test.js" preload></script> -->
    <!-- <script src="./test.js" async></script> -->
    <!-- <script src="./test.js" async ref="prefetch"></script> -->
    <!-- <link rel="preload" href="./sw.js" as="script"> -->
    <!-- <link rel="preload" href="./pwa.js" as="script"> -->
    <!-- <link rel="prefetch" href="./sw.js" as="script"> -->
  </head>
  <body>
    <script>
      const clog = console.log
      const j = (o) => {
        clog(JSON.parse(JSON.stringify(o)))
      }

let arr = [1,5,8,3,5,8,90,5,4,9,5,7]
arr = [1,5,3,6,90,6,3,6,9,6,2,1]
let quickSort = (arr, order = 'asc') => {
    if (arr.length < 1) {
        return arr;
    }


    // for test
    let m = arr.length >> 1
    // clog('m', m)
    
    
    
    // let p = arr[m];
    // let [p] = arr.splice(m, 1)
    let p = arr[m]
    // let p = arr[m]
    let left = [];
    let right = [];
    arr.forEach((item, index) => {
      if (index !== m) {
        switch (order) {
            case 'asc':
                if (item >= p) {
                    right.push(item);
                }
                else {
                    left.push(item);
                }
                break;
            case 'des':
                if (item <= p) {
                    right.push(item);
                }
                else {
                    left.push(item);
                }
                break;
        }
      }
    });
    // clog(p)
    // clog(left)
    // clog(right)
    // return [...quickSort(left, order), p, ...quickSort(right, order)];
    return quickSort(left, order).concat([p], quickSort(right, order))
};


clog(quickSort(arr))
clog(quickSort(arr))
clog(quickSort(arr))
clog(quickSort(arr))
// clog(arr)
// clog(quickSort(arr, 'des'))
// clog(quickSort(arr, 'des'))
// clog(quickSort(arr, 'des'))





      


    </script>
  </body>
</html>
