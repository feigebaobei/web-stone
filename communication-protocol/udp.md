# overview

UDP user datagram protocol

## 特点

|                                        |                                                                        |     |     |
| -------------------------------------- | ---------------------------------------------------------------------- | --- | --- |
| 无连接、不可靠                         | 通信时，通信双方不需要建立连接，只需要知道对端地址信息，就可以发送信息 |     |     |
| 面向数据报（有大小限制，且无分包能力） | 数据只能整条向应用层交付，需要要应用层分包。                           |     |     |
| 不拥塞                                 |                                                                        |     |     |
| 支持 1v1/1vn/nv1/nvn                   |                                                                        |     |     |
| 端口号                                 | 0-65535                                                                |     |     |
| 尽可能地交付                           | 不保证交付，只传输数据。                                               |     |     |

## 功能

为了在给定的主机上能识别多个目的地址，同时允许多个应用程序在同一台主机上工作并能独立进行数据包的发送和接收，设计“用户数据报协议”udp

## 报文格式

```
0                 15 16                31
|-------------------|-------------------|  -
|     16位源端口号    |  16位目标端口号     |  ^
|-------------------|-------------------|  |
|     16位udp长度    |  16位udp检验和     |  8字节
|                   |                   |  |
|                   |                   |  V
|-------------------|-------------------|  -
|                  数据（可以无）         |
|---------------------------------------|
```

协议字段：16 位源端口 16 位目的端口 16 位 udp 数据报数据的最大长度，包含 udp 首部和数据） 16 位校验和

udp 数据报长度决定了一个 udp 协议格式的数据最大长度不能超过 64k-8，否则发送失败；当数据长度过大（>65507 字节）时需要用户在应用层进行数据分包

udp 无法保证数据的有序到达，为了保证数据的有序到达，需要用户在应用层对数据进行包序管理

## 用途

- nds/tptp/snmp
- 视频、音频、直播、有线电视、普通数据（无关紧要的数据）

## [tcp & udp](/communication-protocol/tcp.html)
