<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>overview</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="overview">overview</h1>
<p>http hyper text transfer protocol<br>
http 协议：超文本传输协议<br>
url:统一资源定位符，在网络中唯一定义一份资源。<br>
protocol://userName:password@serverAddress:port/path?queryString#fragment<br>
一般基于 tcp 协议<br>
基于 b/s 框架进行通信的。<br>
服务端需要 httpd、nginx 等。
客户端需要浏览器、elink、curl 等。</p>
<h1 id="特点">特点</h1>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>无连接（及时断开）</td>
<td>每次连接只处理一个请求，服务器回馈了客户端的请求后断开连接。</td>
<td>可以节省时间</td>
<td></td>
</tr>
<tr>
<td>媒体独立</td>
<td>只要客户端、服务端知道如何处理数据内容，则任何数据都可以通过http发送。</td>
<td>客户端、服务端需要指定适合的MIME-type内容类型。</td>
<td></td>
</tr>
<tr>
<td>无状态</td>
<td>协议对事务处理没有记忆能力。</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h2 id="spdy">SPDY</h2>
<p>优化了 http 1.x 的请求延迟。<br>
解决了 http 1.x 的安全性。</p>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>降低延迟</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>请求优先级</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>header 压缩</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>基于 https 的加密协议传输（也就是拥有安全功能）</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>服务端推送</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>降低延迟</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<p>spdy 的构成图</p>
<pre><code>        --------
        | http |
        --------
        --------
        | spdy |
        --------
        --------
        | ssl  |
        --------
        --------
        | tcp  |
        --------
</code></pre>
<h1 id="发展阶段">发展阶段</h1>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th>0.9</th>
<th>1.0</th>
<th>1.1</th>
<th>1.2</th>
<th>2.0</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>缓存处理</td>
<td></td>
<td>使用 if-modified-since/expires 判断</td>
<td>entity tag / if-Unmodified-Since / if-match / if-None-Match</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>带宽优化及网络连接</td>
<td></td>
<td>不支持断点续传</td>
<td>使用 range 头域，只请求资源中的某一部分。返回状态码是 206</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>错误通知</td>
<td></td>
<td></td>
<td>新增 24 个错误状态响应码。如：409、401</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>host 头处理</td>
<td></td>
<td>认为每个服务器绑定一个 ip 地址。因此请求头中无 hostname</td>
<td>需要指明 host 头域</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>长链接</td>
<td></td>
<td></td>
<td>可以在一个 tcp 连接上传送多个 http 请求、响应。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>默认找开 connection:keep-alive</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>解析格式</td>
<td></td>
<td>基于文本</td>
<td></td>
<td></td>
<td>二进制格式</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><strong>多路复用</strong>。一个连接上有多个请求，每个请求都有一个惟一的 id.接收端根据请求的 id 把请求归属到不同的服务器中。</td>
<td></td>
</tr>
<tr>
<td>header 压缩</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>encoder 减少需要传输的 header 大小。通信双方各缓存一份 header fields。避免重复 header 传输，减少需要传输的大小。</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>服务端推送</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h2 id="09">0.9</h2>
<h2 id="10">1.0</h2>
<h2 id="11">1.1</h2>
<h2 id="20">2.0</h2>
<p><a href="https://blog.csdn.net/z69183787/article/details/106643647/">https://blog.csdn.net/z69183787/article/details/106643647/</a></p>
<p>原来是基于 SPDY 设计的。<br>
特点：</p>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>进制分帧</td>
<td>使用二进制</td>
<td></td>
<td></td>
</tr>
<tr>
<td>多路复用</td>
<td>一个 http 2.0 连接中发起多个请求。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>首部压缩</td>
<td>通信双方同时维护一张头信息表，所有字段都记录在这张表中，每次传输只需要传输表中的索引 ID.</td>
<td></td>
<td></td>
</tr>
<tr>
<td>服务端推送</td>
<td>服务端向客户端发送一个请求。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>请求优先级设置</td>
<td>每个 stream 都可以设置依赖和权重，可以按照依赖树分配优先级。</td>
<td>解决了关键请求被阻塞问题</td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="编码解码">编码、解码</h1>
<h1 id="状态码-status"><a href="/communication-protocol/status.html">状态码 status</a></h1>
<h1 id="工作原理">工作原理</h1>
<ol>
<li>客户端与服务端建立连接</li>
<li>客户端向服务端提出请求</li>
<li>服务端接收请求，并根据请求回应文件</li>
<li>客户端与服务端关闭连接</li>
</ol>
<h1 id="请求方法">请求方法</h1>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>请求指定的页面信息，并返回实体主体。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>HEAD</td>
<td>与 GET 请求类似。返回的是响应中没有具体的内容，用于获取报头。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>POST</td>
<td>向指定 url 提交数据进行处理请求（如：提交表单、上传文件）。数据被包含在请求体中。POST 请求一般用于创建新数据。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>PUT</td>
<td>从客户端向服务器传递数据取代指定的文档的内容。一般用于修改数据。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DELETE</td>
<td>请求服务器删除指定的数据。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CONNECT</td>
<td>http/1.1 协议中预留给能够将连接改为管道方式的代理服务器</td>
<td></td>
<td></td>
</tr>
<tr>
<td>OPTIONS</td>
<td>允许客户端查看服务器的性能。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TRACE</td>
<td>显示服务器收到的请求，主要用于测试或诊断。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>PATCH</td>
<td>是对 PUT 请求的补充，用于对已知资源进行局部更新。</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="报文格式">报文格式</h1>
<h2 id="请求">请求</h2>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/2012072810301161.png" alt="请求报文格式"></p>
<pre><code>报文首部
空行
报文主体
</code></pre>
<p>报文首部包括：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>请求行</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>请求方式</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>uri</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>协议及版本</td>
<td></td>
</tr>
<tr>
<td></td>
<td>请求首部字段</td>
<td></td>
<td>客户端的信息、响应的优先级</td>
</tr>
<tr>
<td></td>
<td>能用首部字段</td>
<td></td>
<td>请求报文、响应报文都会使用的报文</td>
</tr>
<tr>
<td></td>
<td>实体首部字段</td>
<td></td>
<td>补充了实体有关的资源信息</td>
</tr>
<tr>
<td></td>
<td>报文主体</td>
<td></td>
<td>GET 时没用报文主体。POST 时有。</td>
</tr>
</tbody>
</table>
<p>回馈报文格式</p>
<pre><code>报文首部
空行
报文主体
</code></pre>
<p>报文首部包括：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>状态行</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>协议级版本</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>状态码</td>
<td></td>
</tr>
<tr>
<td></td>
<td>响应报文首部</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>通用首部字段</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>实体首部字段</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>报文主体</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="回馈">回馈</h2>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Allow</td>
<td>服务器支持的请求方式（如：GET/POST）</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content-Encoding</td>
<td>文档的编码方式。</td>
<td>使用压缩文档会减少 html 文档的下载时间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content-Length</td>
<td>内容长度。只有在浏览器使用持久 http 连接时才需要这个数据。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content-Type</td>
<td>指明文档属于什么 MIME 类型。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Date</td>
<td>当前的 GMT 时间</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Expires</td>
<td>指明文件的过期时刻。若过期，则不缓存。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Last-Modified</td>
<td>文档的最后改动时刻</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Location</td>
<td>客户应当从哪里获取文档。若设置，则需要与状态码 302 一起使用。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Refresh</td>
<td>指明浏览器应该在多长时间（单位：秒）后刷新文档。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Server</td>
<td>服务器的名字。一般由 web 服务器设置。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Set-Cookie</td>
<td>设置 cookie.</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>WWW-Authenticate</td>
<td>客户应该在 Authorization 头中提供什么类型的授权信息。</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="content-type">content-type</h1>
<p>指明文档的 MIME 类型。<br>
浏览器会根据些字段解析该文档。</p>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>text/html</td>
<td>html 格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text/plain</td>
<td>纯文本格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text/xml</td>
<td>xml 格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>image/gif</td>
<td>gif</td>
<td></td>
<td></td>
</tr>
<tr>
<td>image/jpeg</td>
<td>jpg</td>
<td></td>
<td></td>
</tr>
<tr>
<td>image/png</td>
<td>png</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/xhtml+xml</td>
<td>xhtml 格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/xml</td>
<td>xml</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/atom+xml</td>
<td>Atom XML 聚合格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/json</td>
<td>json</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/pdf</td>
<td>pdf</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/msword</td>
<td>word</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/octet-stream</td>
<td>二进制流数据</td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/x-www-form-urlencoded</td>
<td>把 form 中的数据编码为 k/v 格式发送服务器</td>
<td></td>
<td></td>
</tr>
<tr>
<td>multipart/form-data</td>
<td>上传表单时使用此格式</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="mime-类型">MIME 类型</h1>
<p>描述消息内容类型的标准。</p>
<pre><code>type/subtype
</code></pre>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>text/html</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>text/plain</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/rtf</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>image/gif</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>image/jpeg</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>audio/basic</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>audio/midi audio/x-midi</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>audio/x-pn-realaudio</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>video/mpeg</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>video/x-msvideo</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/x-gzip</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>application/x-tar</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="http--https">http &amp; <a href="/communication-protocol/https.html">HTTPS</a></h1>
<!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th></th>
<th>http</th>
<th>https</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>hyper text transfer protocol 超文本传输协议</td>
<td>hyper text transfer protocol over secureSocket layer 超文本传输安全协议</td>
<td></td>
</tr>
<tr>
<td>默认接口</td>
<td>80</td>
<td>443</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>安全协议，可用于传递敏感数据。</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>http + ssl/tls</td>
<td></td>
</tr>
<tr>
<td>证书</td>
<td>-</td>
<td>需要向ca申请证书</td>
<td></td>
</tr>
<tr>
<td></td>
<td>明文</td>
<td>密文</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>http+ssl/tls</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>防止运营商劫持</td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<h1 id="长连接--短连接">长连接 &amp; 短连接</h1>
<pre><code>连接 -》 传输数据 -》保持连接 -》 传输数据 -》。。。 -》关闭连接

连接 -》 传输数据 -》关闭连接
</code></pre>

        
        
    </body>
    </html>