<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>introduction</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension vscode.markdown-math */
@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.13.24"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="introduction">introduction</h1>
<h2 id="overview">overview</h2>
<blockquote>
<p>把若干小片js代码打包成为一个指定规范的大段js文件。<br>
可打包为多种规范。<br>
支持stdin输入（esbuild也支持）
选项级 cli &gt; rollup.config.js
推荐使用esm规范的rollup.config.js<br>
该团队做随便扩张rollup的功能。让rollup只做rollup的事。插件做插件的事。在产品级做到了单一原则。</p>
</blockquote>
<h2 id="install">install</h2>
<p><code>npm i -g rollup</code></p>
<h2 id="quick-start">quick start</h2>
<pre><code class="language-shell"><div>rollup --help
</div></code></pre>
<p>假设入口是<code>main.js</code>，打包为<code>bundle.js</code>，规范是<code>iife</code>。为了方便浏览器使用。
<code>-o</code>表示输出的文件。
<code>-f</code>表示输出的格式。</p>
<pre><code class="language-shell"><div>rollup main.js -o bundle.js -f iife # iife规范
rollup main.js -o bundle.js -f cjs # 为了方便node使用。
<span class="hljs-meta">#</span><span class="bash"> commonjs 规范</span>
rollup main.js -o bundle.js -f umd --name &quot;myBundle&quot;
<span class="hljs-meta">#</span><span class="bash"> umd 规范。</span>
<span class="hljs-meta">#</span><span class="bash"> 规范是umd。在browser/node.js中都可使用。</span>
</div></code></pre>
<h2 id="为什么使用rollup">为什么使用rollup</h2>
<p>在es6前。每段js代码都是独立的，无法与其它js代码联系起来。在es6之后，可以使用<code>import / export</code>输入/输出。可它仍有缺点：只能运行在现代浏览器中。rollup可以把小段代码打包成指定格式的大段代码。支持的格式：esm/commonjs/amd/umd/iife-style/system.</p>
<h2 id="tree-shaking">tree-shaking</h2>
<p>rollup支持静态分析引入的代码，排除不使用的。判断出哪些方法/变量等被使用过，哪些未被使用。在打包后的代码中使用包含被使用到的。</p>
<h2 id="rollup的使用方式">rollup的使用方式</h2>
<ul>
<li>cli</li>
<li>rollup.config.js</li>
<li>api</li>
</ul>
<h2 id="兼容性">兼容性</h2>
<ul>
<li>使用插件<code>@rollup/plugin-commonjs</code>引入<code>cjs</code>规范的代码。</li>
</ul>
<h1 id="command-link-interface命令行的用法">command link interface（命令行的用法）</h1>
<p>rollup可以使用命令行功能。</p>
<h2 id="configuration-files">configuration files</h2>
<p>rollup的配置文件是可选的。若使用配置文件会更方便，所以推荐使用配置文件。<br>
<strong>配置文件的全量字段</strong></p>
<pre><code class="language-js"><div><span class="hljs-comment">// rollup.config.js</span>

<span class="hljs-comment">// can be an array (for multiple inputs)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-comment">// core input options</span>
  external,
  input, <span class="hljs-comment">// conditionally required</span>
  plugins,

  <span class="hljs-comment">// advanced input options</span>
  cache,
  onwarn,
  preserveEntrySignatures,
  strictDeprecations,

  <span class="hljs-comment">// danger zone</span>
  acorn,
  acornInjectPlugins,
  context,
  moduleContext,
  preserveSymlinks,
  shimMissingExports,
  treeshake,

  <span class="hljs-comment">// experimental</span>
  experimentalCacheExpiry,
  perf,

  <span class="hljs-comment">// required (can be an array, for multiple outputs)</span>
  <span class="hljs-attr">output</span>: {
    <span class="hljs-comment">// core output options</span>
    dir,
    file,
    format, <span class="hljs-comment">// required</span>
    globals,
    name,
    plugins,

    <span class="hljs-comment">// advanced output options</span>
    assetFileNames,
    banner,
    chunkFileNames,
    compact,
    entryFileNames,
    extend,
    footer,
    hoistTransitiveImports,
    inlineDynamicImports,
    interop,
    intro,
    manualChunks,
    minifyInternalExports,
    outro,
    paths,
    preserveModules,
    preserveModulesRoot,
    sourcemap,
    sourcemapBaseUrl,
    sourcemapExcludeSources,
    sourcemapFile,
    sourcemapPathTransform,
    validate,

    <span class="hljs-comment">// danger zone</span>
    amd,
    esModule,
    <span class="hljs-built_in">exports</span>,
    externalLiveBindings,
    freeze,
    indent,
    namespaceToStringTag,
    noConflict,
    preferConst,
    sanitizeFileName,
    strict,
    systemNullSetters
  },

  <span class="hljs-attr">watch</span>: {
    buildDelay,
    chokidar,
    clearScreen,
    skipWrite,
    exclude,
    include
  }
};
</div></code></pre>
<details>
  <summary>demo 最基本的配置</summary>
  <code>
// rollup.config.js
export default {
	input: 'src/main.js',
	output: {
		file: 'bundle.js',
		format: 'cjs'
	}
}
<!-- 在配置文件中有几个必填项 -->
<p>export default {
input:      // 入口
output: {   // 出口
file:   // 文件名 // 非必填。但是不设置会得不到打包后的文件。
format: // 输出文件的格式
}
}
</code></p>
</details>
<details>
  <summary>demo 多个输出</summary>
  <code>
// rollup.config.js (building more than one bundle)
export default [
  {
    input: 'main-a.js',
    output: {
      file: 'dist/bundle-a.js',
      format: 'cjs'
    }
  },
  {
    input: 'main-b.js',
    output: [
      {
        file: 'dist/bundle-b1.js',
        format: 'cjs'
      },
      {
        file: 'dist/bundle-b2.js',
        format: 'es'
      }
    ]
  }
];
  </code>
</details>
<details>
  <summary>demo 异步输出配置文件</summary>
  <code>
// rollup.config.js
import fetch from 'node-fetch';
export default fetch('/some-remote-service-or-file-which-returns-actual-config');
// or 
// export default Promise.all([fetch('get-config-1'), fetch('get-config-2')]);
  </code>
</details>
<details>
  <summary>demo 动态配置</summary>
  <code>
// shell
rollup main.js --config --configDebug
<p>// rollup.config.js
import defaultConfig from './rollup.default.config.js';
import debugConfig from './rollup.debug.config.js';
// commandLineArgs可得到命令行中的数据
export default commandLineArgs =&gt; {
if (commandLineArgs.configDebug === true) {
return debugConfig;
}
return defaultConfig;
};
</code></p>
</details>
<ul>
<li>推荐使用esm规范。</li>
<li>一般命名为<code>rollup.config.js</code></li>
<li>当<code>output</code>是数组时，可打包出多个相应输出配置的包。</li>
<li>当使用异步配置项时，rollup会生成一个<code>promise</code>处理它成为一个object/array。也可以使用<code>Promise.all([...])</code>处理成为异步的配置文件。</li>
<li>rollup使用<code>-c</code>/<code>--config</code>指定配置文件。</li>
<li>若返回一个方法。参数是命令行中的参数组成的对象，返回值是配置文件格式的对象。</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>esm</th>
<th>cjs</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>推荐</td>
<td>支持</td>
<td></td>
</tr>
<tr>
<td></td>
<td>需要转换</td>
<td>不需要转换</td>
<td></td>
</tr>
<tr>
<td>命名</td>
<td><code>*.js</code></td>
<td><code>*.cjs</code></td>
<td></td>
</tr>
<tr>
<td>输出</td>
<td>输出默认对象</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>方便esm文件共享</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>node v13+ 且 <code>*.mjs</code>，则不转换。但是入口文件必须是esm规范</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Esm比cjs好用这么多。请使用esm。</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="配置文件的基本结构">配置文件的基本结构</h3>
<pre><code class="language-js"><div>
</div></code></pre>
<h3 id="differences-to-the-javascript-api">differences to the javascript api</h3>
<p>与js api的不同。
配置文件不能被其他打包工具去打包。现在可以在脚本中以编辑方式调用rollup.</p>
<table>
<thead>
<tr>
<th>config</th>
<th>js api</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code>rollup.rollup(obj)</code>其参数必须是<code>object</code>，且不能包裹<code>promise/function</code>。</td>
<td></td>
</tr>
<tr>
<td>不再需要配置项组成的数组，需要为每一个<code>inputOptions</code>执行一次<code>rollup.rollup</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>忽略<code>output</code>，请使用<code>bundle.generate(outputOptions)</code>/<code>bundle.write(outputOptions)</code>生成每个生成项。</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="loading-a-configuration-from-a-node-package">loading a configuration from a Node package</h3>
<p>rollup支持从<code>node_modules</code>中加载配置项文件。</p>
<pre><code><code><div>rollup --config node:my-special-config
# 先尝试加载`rollup-config-my-special-config`，若失败则加载`my-special-config`
</div></code></code></pre>
<h3 id="使用不需要转换的配置文件">使用不需要转换的配置文件</h3>
<p>默认rollup希望得到<code>esm</code>规范的配置文件。然后在需要它时把它转换为<code>commonjs</code>规范的文件。转换过程很快。也可以基于esm规范很容易分享代码。若希望使用commonjs规范的配置文件，请设置扩展名为<code>*.cjs</code>。</p>
<pre><code><code><div>// rollup.config.csj
module.exports = {
	input:..
	output: {...}
}
</div></code></code></pre>
<h3 id="command-line-flag">command line flag</h3>
<pre><code><code><div>-c, --config &lt;filename&gt;     Use this config file (if argument is used but value
                              is unspecified, defaults to rollup.config.js)
							指定配置文件
-d, --dir &lt;dirname&gt;         Directory for chunks (if absent, prints to stdout)
-e, --external &lt;ids&gt;        Comma-separate list of module IDs to exclude
-f, --format &lt;format&gt;       Type of output (amd, cjs, es, iife, umd, system)
-g, --globals &lt;pairs&gt;       Comma-separate list of `moduleID:Global` pairs
-h, --help                  Show this help message
-i, --input &lt;filename&gt;      Input (alternative to &lt;entry file&gt;)
							指定入口文件
-m, --sourcemap             Generate sourcemap (`-m inline` for inline map)
							生成sourcemap的方式
-n, --name &lt;name&gt;           Name for UMD export
-o, --file &lt;output&gt;         Single output file (if absent, prints to stdout)
							基于 --dir
-p, --plugin &lt;plugin&gt;       Use the plugin specified (may be repeated)
							指定插件
-v, --version               Show version number
-w, --watch                 Watch files in bundle and rebuild on changes
							启动观察模式
--amd.id &lt;id&gt;               ID for AMD module (default is anonymous)
--amd.autoId                Generate the AMD ID based off the chunk name
--amd.basePath &lt;prefix&gt;     Path to prepend to auto generated AMD ID
--amd.define &lt;name&gt;         Function to use in place of `define`
--assetFileNames &lt;pattern&gt;  Name pattern for emitted assets
--banner &lt;text&gt;             Code to insert at top of bundle (outside wrapper)
--chunkFileNames &lt;pattern&gt;  Name pattern for emitted secondary chunks
							代码块的名字的第二部分模式
--compact                   Minify wrapper code
--context &lt;variable&gt;        Specify top-level `this` value
							代码中的上下文环境变量
--entryFileNames &lt;pattern&gt;  Name pattern for emitted entry chunks
							xxx不会
--environment &lt;values&gt;      Settings passed to config file (see example)
							为process.env对象设置值
--no-esModule               Do not add __esModule property
--exports &lt;mode&gt;            Specify export mode (auto, default, named, none)
--extend                    Extend global variable defined by --name
--no-externalLiveBindings   Do not generate code to support live bindings
--failAfterWarnings         Exit with an error if the build produced warnings
							在构建时若出错警告是否当作错误处理
--footer &lt;text&gt;             Code to insert at end of bundle (outside wrapper)
--no-freeze                 Do not freeze namespace objects
--no-hoistTransitiveImports Do not hoist transitive imports into entry chunks
--no-indent                 Don't indent result
							不缩进
--no-interop                Do not include interop block
							不会
--inlineDynamicImports      Create single bundle when using dynamic imports
--intro &lt;text&gt;              Code to insert at top of bundle (inside wrapper)
--minifyInternalExports     Force or disable minification of internal exports
--namespaceToStringTag      Create proper `.toString` methods for namespaces
--noConflict                Generate a noConflict method for UMD globals
--outro &lt;text&gt;              Code to insert at end of bundle (inside wrapper)
--preferConst               Use `const` instead of `var` for exports
--no-preserveEntrySignatures Avoid facade chunks for entry points
--preserveModules           Preserve module structure
							维持模块结构
--preserveModulesRoot       Put preserved modules under this path at root level
--preserveSymlinks          Do not follow symlinks when resolving files
--shimMissingExports        Create shim variables for missing exports
--silent                    Don't print warnings
							不输出警告
--sourcemapExcludeSources   Do not include source code in source maps
--sourcemapFile &lt;file&gt;      Specify bundle position for source maps
--stdin=ext                 Specify file extension used for stdin input
--no-stdin                  Do not read &quot;-&quot; from stdin
--no-strict                 Don't emit `&quot;use strict&quot;;` in the generated modules
--strictDeprecations        Throw errors for deprecated features
--systemNullSetters         Replace empty SystemJS setters with `null`
--no-treeshake              Disable tree-shaking optimisations
							不使用treeshake
--no-treeshake.annotations  Ignore pure call annotations
--no-treeshake.moduleSideEffects Assume modules have no side-effects
--no-treeshake.propertyReadSideEffects Ignore property access side-effects
--no-treeshake.tryCatchDeoptimization Do not turn off try-catch-tree-shaking
--no-treeshake.unknownGlobalSideEffects Assume unknown globals do not throw
--waitForBundleInput        Wait for bundle input files
							等待所有入口都可以得到时打包
--watch.buildDelay &lt;number&gt; Throttle watch rebuilds
--no-watch.clearScreen      Do not clear the screen when rebuilding
							观察模式时不清屏
--watch.skipWrite           Do not write files to disk when watching
--watch.exclude &lt;files&gt;     Exclude files from being watched
--watch.include &lt;files&gt;     Limit watching to specified files
--validate                  Validate output
</div></code></code></pre>
<details>
  <summary>demo -p, --plugin</summary>
  <code>
// shell
rollup -i input.js -f es -p ./my-plugin.js
rollup -i input.js -f es -p @rollup/plugin-node-resolve
rollup -i input.js -f es -p node-resolve
rollup -i input.js -f es -p '{transform: (c, i) => `\n${c}`}'
rollup -i input.js -f es -p commonjs,json
rollup -i input.js -f es -p 'terser={output: {beautify: true, indent_level: 2}}'
  </code>
</details>
<details>
  <summary>demo --configPlugin</summary>
  <code>
// shell
rollup --config rollup.config.js --configPlugin @rollup/plugin-typescript
<p>// tsconfig.json
{
...
&quot;include&quot;: [&quot;src/**/*&quot;, &quot;rollup.config.js&quot;]
}
</code></p>
</details>
<h1 id="js-api">js api</h1>
<p>为node.js使用rollup</p>
<h2 id="usage">usage</h2>
<pre><code class="language-js"><div><span class="hljs-keyword">import</span> {rollup} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rollup&#x27;</span>
rollup(inputOptions).then(<span class="hljs-function"><span class="hljs-params">bundle</span> =&gt;</span> {
	bundle.generate(outputOptions) <span class="hljs-comment">// 在内存中生成打包结果</span>
	bundle.write() <span class="hljs-comment">// 把打包结果写入硬盘</span>
})
</div></code></pre>
<h2 id="type-类型">type 类型</h2>
<pre><code class="language-ts"><div>rollup.rollup: <span class="hljs-function">(<span class="hljs-params">inputOptions</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;bundle&gt;
<span class="hljs-keyword">type</span> inputOption = {
  <span class="hljs-comment">// core input options</span>
  external,
  input, <span class="hljs-comment">// conditionally required</span>
  plugins,

  <span class="hljs-comment">// advanced input options</span>
  cache,
  onwarn,
  preserveEntrySignatures,
  strictDeprecations,

  <span class="hljs-comment">// danger zone</span>
  acorn,
  acornInjectPlugins,
  context,
  moduleContext,
  preserveSymlinks,
  shimMissingExports,
  treeshake,

  <span class="hljs-comment">// experimental</span>
  experimentalCacheExpiry,
  perf
};

<span class="hljs-keyword">type</span> outputOptions = {
  <span class="hljs-comment">// core output options</span>
  dir,
  file,
  format, <span class="hljs-comment">// required</span>
  globals,
  name,
  plugins,

  <span class="hljs-comment">// advanced output options</span>
  assetFileNames,
  banner,
  chunkFileNames,
  compact,
  entryFileNames,
  extend,
  externalLiveBindings,
  footer,
  hoistTransitiveImports,
  inlineDynamicImports,
  interop,
  intro,
  manualChunks,
  minifyInternalExports,
  outro,
  paths,
  preserveModules,
  preserveModulesRoot,
  sourcemap,
  sourcemapExcludeSources,
  sourcemapFile,
  sourcemapPathTransform,
  validate,

  <span class="hljs-comment">// danger zone</span>
  amd,
  esModule,
  <span class="hljs-built_in">exports</span>,
  freeze,
  indent,
  namespaceToStringTag,
  noConflict,
  preferConst,
  sanitizeFileName,
  strict,
  systemNullSetters
};
<span class="hljs-keyword">const</span> watchOptions = {
  ...inputOptions,
  <span class="hljs-attr">output</span>: [outputOptions],
  <span class="hljs-attr">watch</span>: {
    buildDelay,
    chokidar,
    clearScreen,
    skipWrite,
    exclude,
    include
  }
};
</div></code></pre>
<h2 id="watch">watch</h2>
<pre><code class="language-js"><div><span class="hljs-keyword">let</span> rollup = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;rollup&#x27;</span>)
<span class="hljs-keyword">let</span> watchOptions = {...}
<span class="hljs-keyword">let</span> watcher = rollup.watch(watchOptions)
watcher.on(<span class="hljs-string">&#x27;event&#x27;</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
	<span class="hljs-comment">// event.code</span>
	<span class="hljs-comment">// 	START			全部开始</span>
	<span class="hljs-comment">// 	BUNDLE_START	开始打包每个个体文件</span>
	<span class="hljs-comment">// 	BUNDLE_END		打包完每一个人体文件</span>
	<span class="hljs-comment">// 	END				全部结束</span>
	<span class="hljs-comment">// 	ERROR			打包时出现的错误</span>
})
watcher.on(<span class="hljs-string">&#x27;event&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">{result}</span>) =&gt;</span> {
	<span class="hljs-keyword">if</span> (result) {
		result.close()
	}
})
watcher.close() <span class="hljs-comment">// 停止监听</span>
</div></code></pre>
<h1 id="es-module-syntax">es module syntax</h1>
<p>就正常使用就行。</p>
<h1 id="tutorial">tutorial</h1>
<p>示例请看 setup</p>
<h2 id="using-plugins">using plugins</h2>
<pre><code class="language-shell"><div>npm i -D @rollup/plugin-json
</div></code></pre>
<pre><code class="language-js"><div><span class="hljs-keyword">import</span> {version} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../package.json&#x27;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
	<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;version&#x27;</span>, version)
}
</div></code></pre>
<pre><code class="language-js"><div><span class="hljs-comment">// rollup.config.js</span>
<span class="hljs-keyword">import</span> json <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@rollup/plugin-json&#x27;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
	<span class="hljs-attr">input</span>: <span class="hljs-string">&#x27;src/main.js&#x27;</span>,
	<span class="hljs-attr">output</span>: {
		<span class="hljs-attr">file</span>: <span class="hljs-string">&#x27;bundle.js&#x27;</span>,
		<span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;cjs&#x27;</span>
	},
	<span class="hljs-attr">plugins</span>: [json()]
}
</div></code></pre>
<pre><code class="language-shell"><div>npm run build
<span class="hljs-meta">#</span><span class="bash"> <span class="hljs-string">&quot;build&quot;</span>: <span class="hljs-string">&quot;rollup -c&quot;</span></span>
</div></code></pre>
<h3 id="常用插件列表">常用插件列表</h3>
<ul>
<li><a href="https://github.com/rollup/awesome">awesome</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 找到外部依赖</li>
<li><a href="">@rollup/plugin-commonjs</a> 把cjs转换为esm</li>
<li><a href="">@rollup/plugin-babel</a> 转换js代码的版本</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
<li><a href="">@rollup/plugin-node-resolve</a> 功能功能功能功能</li>
</ul>
<h2 id="代码分割">代码分割</h2>
<ul>
<li>自动代码分割</li>
<li><code>output.manualChunks</code></li>
<li><code>output.chunkFileNames</code></li>
<li><code>output.entryFileNames</code></li>
<li>动态加载时分使用代码分割</li>
</ul>
<pre><code class="language-js"><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
	<span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./file.js&#x27;</span>).then(<span class="hljs-function">(<span class="hljs-params">{<span class="hljs-keyword">default</span>: file}</span>) =&gt;</span> {
		<span class="hljs-built_in">console</span>.log(file)
	})
}
</div></code></pre>
<h1 id="插件"><a href="/builder/rollup/plugin/index.html">插件</a></h1>
<p>插件部分写的一团糟。还得让我去看rollup的源码、插件的源码。</p>
<ul>
<li>Rollup的运行逻辑是什么，如何与插件合作？</li>
<li>插件demo的功能是什么？定出具体代码。</li>
<li>各钩子的运行顺序。</li>
<li>各钩子的api（包括：参数、返回值）</li>
</ul>
<h1 id="plugin-development">plugin development</h1>
<h1 id="frequently-asked-questions">frequently asked questions</h1>
<h2 id="为什么使用esm代码cjs">为什么使用esm代码cjs</h2>
<table>
<thead>
<tr>
<th>esm</th>
<th>cjs</th>
</tr>
</thead>
<tbody>
<tr>
<td>官方标准</td>
<td>怪癖的遗留格式</td>
</tr>
</tbody>
</table>
<h2 id="tree-shaking是什么">tree-shaking是什么</h2>
<p>&quot;live code inclusion&quot;包含活跃代码。<br>
使用ast(abstract syntax tree)实现。</p>
<h2 id="如何使用rollup处理nodejscjs">如何使用rollup处理node.js、cjs</h2>
<p>rollup是为esm服务的。若要处理cjs，请使用<code>node-resolve / commonjs</code>插件。处理json，请使用<code>json</code>插件。</p>
<h2 id="为什么不内置node-resolve">为什么不内置<code>node-resolve</code></h2>
<ul>
<li>rollup是node和browsers的适配器。<code>import</code>不能在浏览器中工作。</li>
<li>使用插件对于软件工程师来说非常简单。</li>
<li>使核心包变小。</li>
</ul>
<h2 id="为什么在代码拆分时在入口块中出现额外的导入">为什么在代码拆分时在入口块中出现额外的导入?</h2>
<p>默认情况下，当创建多个块时，条目块依赖项的导入将作为空导入添加到条目块本身。
加快加载和解析代码的速度。
可以使用<code>output.hoistTransitiveImports</code>打开、关闭此优化。
在使用<code>preserveModules</code>时不可使用此优化。</p>
<h2 id="如何在打包结果中使用polyfills">如何在打包结果中使用polyfills</h2>
<p>以下情况不使用：</p>
<ul>
<li>代码分割</li>
<li>外部依赖</li>
</ul>
<h2 id="rollup是为了打包libraries--applications-吗">rollup是为了打包libraries / applications 吗？</h2>
<p>是的。</p>
<h1 id="integrating-rollup-with-other-tools">integrating rollup with other tools</h1>
<h2 id="同等依赖">同等依赖</h2>
<p>external 不打包</p>
<h2 id="babel">babel</h2>
<h2 id="gulp">gulp</h2>
<h2 id="deno">deno</h2>
<h1 id="troubleshooting">troubleshooting</h1>
<ul>
<li>不要使用eval
<ul>
<li><code>let evalAlias = eval</code></li>
</ul>
</li>
<li>有tree-shaking不管用
<ul>
<li>静态分析比较困难。</li>
<li>请使用<code>import key from './file.js'</code>代替<code>import {key} from './file.js'</code></li>
<li>静态分析超时</li>
</ul>
</li>
<li>[name] is not exproted by [module]
<ul>
<li>查看是否是默认输出</li>
<li>经常使用<code>@rollup/plugin-commonjs</code>可解决。</li>
</ul>
</li>
<li>this is undefined. rollup会设置this为undefined</li>
<li>sourcemap is likely to be incorrect. 是否使用多个插件处理sourcemap</li>
<li>&quot;Treating [module] as external dependency&quot;
<ul>
<li>检查external的选项是否包括该包。</li>
</ul>
</li>
<li>EMFILE: too many open files&quot;  设置watch.chokidar.useFsEvents: false</li>
<li>JavaScript heap out of memory. rollup的代码分析、tree-shaking都在内存中。 <code>node --max-old-space-size=8192 node_modules/rollup/bin/rollup -c</code></li>
</ul>
<h1 id="big-list-of-options">big list of options</h1>
<h2 id="core-functionality">core functionality</h2>
<h3 id="external">external</h3>
<pre><code class="language-ts"><div>Type: (<span class="hljs-built_in">string</span> | <span class="hljs-built_in">RegExp</span>)[] | <span class="hljs-built_in">RegExp</span> | <span class="hljs-built_in">string</span> | <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, parentId: <span class="hljs-built_in">string</span>, isResolved: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> <span class="hljs-built_in">boolean</span>
<span class="hljs-attr">CLI</span>: -e/--external &lt;external-id,another-external-id,...&gt;
</div></code></pre>
<p>指定不打包的包</p>
<h3 id="input">input</h3>
<pre><code class="language-ts"><div>Type: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span> [] | { [entryName: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> }
<span class="hljs-attr">CLI</span>: -i/--input &lt;filename&gt;
</div></code></pre>
<p>指定入口文件。若为多入口，则多出口。</p>
<h3 id="outputdir">output.dir</h3>
<pre><code class="language-ts"><div>Type: <span class="hljs-built_in">string</span>
<span class="hljs-attr">CLI</span>: -d/--dir &lt;dirname&gt;
</div></code></pre>
<p>出口的目录</p>
<h3 id="outputfile">output.file</h3>
<pre><code class="language-ts"><div>Type: <span class="hljs-built_in">string</span>
<span class="hljs-attr">CLI</span>: -o/--file &lt;filename&gt;
</div></code></pre>
<p>出口的文件</p>
<h3 id="outputformat">output.format</h3>
<pre><code class="language-ts"><div>Type: <span class="hljs-built_in">string</span>
<span class="hljs-attr">CLI</span>: -f/--format &lt;formatspecifier&gt;
Default: <span class="hljs-string">&quot;es&quot;</span>
<span class="hljs-attr">enum</span>: amd     
      cjs     
      es      适用于bundler / <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="javascript">
        别名为 esm / <span class="hljs-built_in">module</span>
      iife      自执行函数
      umd       
      system    原生格式 Native format <span class="hljs-keyword">of</span> the SystemJS loader (alias: systemjs)
        别名为 systemjs
</span></span></div></code></pre>
<p>指定输出规范</p>
<h3 id="outputglobals">output.globals</h3>
<pre><code class="language-ts"><div>Type: { [id: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> } | (<span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>)
<span class="hljs-attr">CLI</span>: -g/--globals &lt;external-id:variableName,another-external-id:anotherVariableName,...&gt;
</div></code></pre>
<p>指定全局变量。用于umd/iife规范。</p>
<pre><code class="language-js"><div><span class="hljs-comment">// 告诉rollup全局变量是jquery，并且与全局变量$相等。</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  ...
  <span class="hljs-attr">external</span>: [<span class="hljs-string">&#x27;jquery&#x27;</span>],
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;iife&#x27;</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;myBundle&quot;</span>,
    <span class="hljs-attr">globals</span>: {
      <span class="hljs-attr">jquery</span>: <span class="hljs-string">&#x27;$&#x27;</span>
    }
  }
}
</div></code></pre>
<h3 id="outputname"><a href="http://output.name">output.name</a></h3>
<pre><code class="language-ts"><div>Type: <span class="hljs-built_in">string</span>
<span class="hljs-attr">CLI</span>: -n/--name &lt;variableName&gt;
</div></code></pre>
<p>指定全局变量名。
iife/umd的必填项。</p>
<h3 id="outputplugins">output.plugins</h3>
<pre><code class="language-ts"><div>Type: OutputPlugin | (OutputPlugin | <span class="hljs-built_in">void</span>)[]
</div></code></pre>
<p>输出时使用的插件</p>
<h3 id="plugin">plugin</h3>
<pre><code class="language-ts"><div>Type: Plugin | (Plugin | <span class="hljs-built_in">void</span>)[]
</div></code></pre>
<p>引入时使用的插件</p>
<h2 id="advanced-funcitonality">advanced funcitonality</h2>
<h3 id="external-1">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-2">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-3">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-4">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-5">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-6">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-7">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-8">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-9">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-10">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-11">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-12">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h3 id="external-13">external</h3>
<pre><code class="language-js"><div></div></code></pre>
<h2 id="danger-zone">danger zone</h2>
<h2 id="experimental-options">experimental options</h2>
<h2 id="watch-options">watch options</h2>
<h2 id="deprecated-options">deprecated options</h2>
<h2 id="overview-1">overview</h2>
<h2 id="overview-2">overview</h2>
<h2 id="use-plugin">use plugin</h2>
<h3 id="rollupplugin-commonjs">@rollup/plugin-commonjs</h3>
<p>把commonjs规范的代码打包为esm规范的代码。</p>
<pre><code><code><div>// install
npm i @rollup/plugin-commonjs -D

// usage
// rollup.config.js
import commonjs from '@rollup/plugin-commonjs'
export default {
	...
	plugin: [commonjs()]
}
</div></code></code></pre>
<h4 id="api">api</h4>
<h5 id="dynamicrequiretargets">dynamicRequireTargets</h5>
<h5 id="exclude">exclude</h5>
<h5 id="include">include</h5>
<h5 id="extensions">extensions</h5>
<h5 id="ignoreglobal">ignoreGlobal</h5>
<h5 id="sourcemap">sourceMap</h5>
<h5 id="trasnformmixedesmodules">trasnformMixedEsModules</h5>
<h5 id="ignore">ignore</h5>
<h5 id="ignoretrycatch">ignoreTryCatch</h5>
<h5 id="ignoredynamicrequires">ignoreDynamicRequires</h5>
<h5 id="esmexternals">esmExternals</h5>
<h5 id="defaultismoduleexports">defaultIsModuleExports</h5>
<h5 id="requirereturesdefault">requireReturesDefault</h5>
<h4 id="using-with-rollupplugin-node-resolve">using with @rollup/plugin-node-resolve</h4>
<p>在commonjs后很多引入来自<code>node_modules</code>。<code>@rollup/plugin-node-resolve</code>可解决来自<code>node_modules</code>的问题。</p>
<pre><code><code><div>// rollup.config.js
import resolve from '@rollup/plugin-node-resolve'
import commonjs from '@rollup/plugin-commonjs'
export default {
	...
	plugin: [resolve(), commonjs()]
}
</div></code></code></pre>
<h4 id="usage-width-symlinks">usage width symlinks</h4>
<p>与软链接一起使用。
软链接一般在一库多包中使用。rollup使用<code>@rollup/plugin-node-resolve</code>把解析模块到指定的真实目录。e.g. <code>../common/node_modules/**</code> =&gt; <code>node_modules/**</code>。</p>
<pre><code><code><div>commonjs({include: /node_modules/})
</div></code></code></pre>
<h5 id="dynamicrequiretargets-1">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-2">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-3">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-4">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-5">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-6">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-7">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-8">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-9">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-10">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-11">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-12">dynamicRequireTargets</h5>
<h5 id="dynamicrequiretargets-13">dynamicRequireTargets</h5>
<h3 id="rollupplugin-node-resolve">@rollup/plugin-node-resolve</h3>
<h2 id="overview-3">overview</h2>
<h2 id="overview-4">overview</h2>
<h2 id="overview-5">overview</h2>
<h2 id="overview-6">overview</h2>
<h2 id="overview-7">overview</h2>
<h2 id="overview-8">overview</h2>
<h2 id="overview-9">overview</h2>
<h3 id="api-1">api</h3>
<pre><code><code><div>// rollup-build.js
let rollup = require('rollup')
let inputOption = require('path/to/input.js')
let outputOpiton = require('path/to/output.js')
let bundle = rollup.rollup(inputOption)         // 生成打包文件
bundle.write(outputOpiton)                      // 根据配置文件输出打包文件。
</div></code></code></pre>
<pre><code><code><div>// path/to/input.js
module.exports = {
    input: './src/main.js'
}
</div></code></code></pre>
<pre><code><code><div>// path/to/output.js
module.exports = {
    file: './bundle.js',
    format: 'cjs',
}
</div></code></code></pre>
<pre><code><code><div>// 执行打包脚本
node rollup-build.js
</div></code></code></pre>

        <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </body>
    </html>