<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>&DiacriticalGrave;esbuild&DiacriticalGrave;</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension vscode.markdown-math */
@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.13.24"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="esbuild"><code>esbuild</code></h1>
<h2 id="overview">overview</h2>
<blockquote>
<p>我们目前的web构建工具的速度比他们可以做到的慢10-100倍。esbuild捆绑包项目的主要目标是带来构建工具性能的新时代，并在此过程中创建一个易于使用的现代捆绑包。<br>
它处理ts -&gt; js的速度是tsc的20-30倍<br>
当使用api方式时，esbuild的可执行文件在child process中运行。<br>
plugin只支持异步api<br>
主要使用go(40%)/js+ts(40%)编写。<br>
主要使用go/js/ts编写。<br>
默认不打包（它是一个打包器，居然默认不打包）<br>
支持静态引入打包，不支持动态引入打包。<br>
浏览器优先。（打包默认iife规范）<br>
cli中的选项无前后顺序</p>
</blockquote>
<h3 id="feature">feature</h3>
<ul>
<li>不使用缓存也很快</li>
<li>支持esm/cjs</li>
<li>esm 可 tree shaking</li>
<li>支持js / go 使用 api</li>
<li>支持ts/jsx</li>
<li>source map</li>
<li>minification</li>
<li>可插件</li>
<li>支持cli</li>
<li>支持编写js代码</li>
</ul>
<h2 id="install">install</h2>
<pre><code class="language-shell"><div>npm i esbuild
npm i esbuild-wasm
</div></code></pre>
<h2 id="usage">usage</h2>
<p><a href="/builder/esbuild/demo0.html">demo0</a></p>
<h2 id="打包结果的多种用途">打包结果的多种用途</h2>
<h3 id="browser">browser</h3>
<pre><code class="language-shell"><div>esbuild input.js --target=chrome58,firefox57,safari11,edge16
</div></code></pre>
<pre><code class="language-js"><div><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).buildSync({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.jsx&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">target</span>: [<span class="hljs-string">&#x27;chrome58&#x27;</span>, <span class="hljs-string">&#x27;firefox57&#x27;</span>, <span class="hljs-string">&#x27;safari11&#x27;</span>, <span class="hljs-string">&#x27;edge16&#x27;</span>],
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
})
</div></code></pre>
<p>你想要使用的一些npm包可能不是被设计成在浏览器中运行的。有时，您可以使用esbuild的配置选项来解决某些问题，并成功地捆绑包。未定义的全局变量在简单情况下可以用定义特性替换，在复杂情况下可以用注入特性替换。</p>
<h3 id="node">node</h3>
<p>当设置<code>--platform=node</code>时，esbuild会把设置一些对node友好的配置项。如：把<code>fs</code>标记为排除项。还会设置一些浏览器不永别package.json的配置项。<br>
既然打包时排除了，那么在使用该包时。这些排除项也要在运行时存在。（有些同等依赖）</p>
<h2 id="configuration">configuration</h2>
<p>默认配置文件：<code>path/to/file.json</code>。</p>
<table>
<thead>
<tr>
<th>key</th>
<th>description</th>
<th>default</th>
<th>enum</th>
<th>demo</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="api">api</h2>
<ul>
<li>支持cli/js/go</li>
<li>cli的写法
<ul>
<li>--foo       用于表示bool</li>
<li>--foo=bar   用于接收一个值</li>
<li>--foo:bar   用于接收多个值。如 <code>--external:*.png --external:/images/*</code></li>
</ul>
</li>
<li>只有2个api transform / build</li>
</ul>
<h3 id="transform">transform</h3>
<ul>
<li>当不使用文件系统时，可以使用transform api 去转换一行字符串。（如在浏览器中）</li>
<li>当没有指定输入文件和<code>--bundle</code>时，输入使用标准输入的字符串，输出使用标准输出。</li>
<li>该api就是为无文件系统时提供的。（它没有入口选项）
使用方式</li>
</ul>
<pre><code><code><div>// shell
echo 'let x: number = 1' | esbuild --loader=ts
// js
require('esbuild').transformSync('sourceCode', options) =&gt; {code: 'xxx', map: '', warnings: []}
// go
import &quot;fmt&quot;
import &quot;github.com/evanw/esbuild/pkg/api&quot;
func main() {
  result := api.Transform('sourceCode', api.TransformOptions{Loader: api.LoaderTS})
  if len(result.Error) == 0 {
    fmt.Printf(&quot;%s&quot;, result.Code)
  }
}
</div></code></code></pre>
<h3 id="build">build</h3>
<p><code>build</code>api可操作文件系统中的一个或多个文件。允许文件引用别的文件。</p>
<ul>
<li>当项目至少一个输入文件或<code>--bundle</code>标记时，esbuild会调用此api.</li>
<li>默认不打包，必须明确使用<code>--bundle</code>才会去打包</li>
<li>当没有输入文件时，使用标准输入。</li>
<li>（有入口选项）<br>
使用方式</li>
</ul>
<pre><code><code><div>// cli
esbuild in.ts --outfile=out.js
// js
require('esbuild').buildSync({
  entryPoints: ['in.ts'],
  outfile: 'out.js'
}) =&gt; {errors: [], warnings: []}
// go
package main
import &quot;io/ioutil&quot;
import &quot;github.com/evanw/esbuild/pkg/api&quot;
import &quot;os&quot;
func main() {
  ioutil.WriteFile(&quot;in.ts&quot;, []byte(&quot;let x: number = 1&quot;), 0644)
  result := api.Build(api.BuildOptions{
    EntryPoints: []string{&quot;in.ts&quot;},
    Outfile:     &quot;out.js&quot;,
    Write:       true,
  })
  if len(result.Errors) &gt; 0 {
    os.Exit(1)
  }
}
</div></code></code></pre>
<h3 id="各种options">各种options</h3>
<p><em>斜体</em>表示没有具体的选项</p>
<table>
<thead>
<tr>
<th>option</th>
<th>可用于哪个api</th>
<th>说明</th>
<th>默认值</th>
<th>枚举值</th>
<th>demo</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bundle</code></td>
<td>build</td>
<td>把所有依赖、引入打包为内联的。可递归打包。默认输出iife规范的文件。</td>
<td><strong>默认不打包输入文件。</strong>。若要打包必须明确使用此选项。多个输入时，会默认打包出对应的多个文件。可以把多个文件引入到一个文件中，再打包这个文件。</td>
<td></td>
<td><code>esbuild in.js --bundle</code></td>
<td></td>
</tr>
<tr>
<td><code>define</code></td>
<td>trasform/build</td>
<td>定义全局替换的内容（类似宏替换）。若定义string，则必须使用引号。请遵守操作系统的斜线的数量。</td>
<td>-</td>
<td>json对象/单个变量</td>
<td>`echo 'id, str'</td>
<td>esbuild --define:id=text --define:str=&quot;text&quot;`</td>
</tr>
<tr>
<td><em>入口</em></td>
<td>build</td>
<td>明确打包的文件。一般与其一起使用的选项还有：outdir/outfile/outbase/xxx/xxx/...</td>
<td>-</td>
<td>一个文件或多个文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>external</code></td>
<td>build</td>
<td>指定不打包的文件</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>format</code></td>
<td>tranform / build</td>
<td>指定输出规范</td>
<td>当无format时输出文件使用输入文件的规范。当<code>platform</code>设置为browser时，自动使用<code>iife</code>规范。当<code>platform</code>设置为node时，自动使用<code>commonjs</code>规范。当<code>platform</code>设置为neutral时，自动使用<code>esm</code>规范。</td>
<td>iife/cjs/esm</td>
<td><code>esbuild in.js --format=cjs</code></td>
<td></td>
</tr>
<tr>
<td><code>inject</code></td>
<td>build</td>
<td>注入文件。从别的文件引入全局变量并替换。它有4个功能：1.可以与define一起使用。 2.为jsx自动引入react. 3.您还可以将此功能用于没有导出的文件。在这种情况下，注入的文件只是排在输出的其余部分之前，就好像每个输入文件都包含import &quot;./file.js&quot;。 4.按条件注入一个文件</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --inject:./p.js</code></td>
<td></td>
</tr>
<tr>
<td><code>loader</code></td>
<td>transform/build</td>
<td>用于给esbuild翻译输入文件。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --loader:.png=dataurl</code></td>
<td></td>
</tr>
<tr>
<td><code>minfy</code></td>
<td>transform/build</td>
<td>生产压缩后的代码。压缩后的代码可以让下载更快、调试更难、一般于生产环境。可用于css/js</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --minify</code></td>
<td></td>
</tr>
<tr>
<td><code>outdir</code></td>
<td>build</td>
<td>设置输出的目录。若已经存在，则不会清空。会覆盖相同文件。需要程序员自己清空输出目录</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --outdir=out</code></td>
<td></td>
</tr>
<tr>
<td><code>outfile</code></td>
<td>build</td>
<td>指定输出文件名。当输入文件只有一个时，有效。</td>
<td>-</td>
<td>-</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>platform</code></td>
<td>transform/build</td>
<td>指定打包后代码的运行平台。</td>
<td>browser</td>
<td>browser/node/neutral</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>servedir</code></td>
<td>build</td>
<td>不会，好像是（为相对于输出目录的额外目录为也提供静态服务功能。额外目录中的文件变动时会触发rebuild.）</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>serve</code></td>
<td>build</td>
<td>为outdir提供静态服务。</td>
<td></td>
<td></td>
<td><code>esbuild in.js --bundle --outfile=out.js --serve=8080</code>访问http://localhost:8080/out.js</td>
<td></td>
</tr>
<tr>
<td><code>sourcemap</code></td>
<td>transform/build</td>
<td>指定代码地图的种类</td>
<td>linked</td>
<td>linked/external/inline/both</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>splitting</code></td>
<td>build</td>
<td>代码分块打包（也叫：代码分割），只能在esm中使用（<code>--format=esm</code>）</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --splitting --outdir=out --format=esm</code></td>
<td></td>
</tr>
<tr>
<td><code>target</code></td>
<td>transform/build</td>
<td>指定js/css的运行环境。esbuild会把代码转换为该环境支持的写法。</td>
<td>-</td>
<td>chrome/edge/firefox/hermes/ie/ios/node及版本/opera/rhino/safari/js的版本</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>watch</code></td>
<td>build</td>
<td>当改变时rebuild</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>write</code></td>
<td>build</td>
<td>输出到文件系统或内存中。js/go才能使用该选项。cli直接输出到文件系统。</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>option</th>
<th>可用于哪个api</th>
<th>说明</th>
<th>默认值</th>
<th>枚举值</th>
<th>demo</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>allow-overwrite</code></td>
<td>build</td>
<td>是否允许打包文件覆盖</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>analyze</code></td>
<td>build</td>
<td>是否启动分析功能。若启动会列出每个包的信息</td>
<td>-</td>
<td>true/verbose</td>
<td><code>esbuild in.js --bundle --analyze</code></td>
<td></td>
</tr>
<tr>
<td><code>asset-names</code></td>
<td>build</td>
<td>当loader设置为file时，控制输出的额外的文件的名字。定义模板的名字。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --outdir=out --loader:.png=file --asset-names=assets/[name]-[hash]</code></td>
<td></td>
</tr>
<tr>
<td><code>banner</code></td>
<td>tranform/build</td>
<td>输出时直接在js/css文件的开头插入字符串。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --banner:js=//comment --banner:css=/*comment*/</code></td>
<td></td>
</tr>
<tr>
<td><code>charset</code></td>
<td>transform/build</td>
<td>指定编码集</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>chunk-names</code></td>
<td>build</td>
<td>当使用代码分割时会产生子代码块（chunk）有可能是共用的。该选项是控制chunk的目录+文件名的占位符。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --outdir=out --splitting --format-esm --chunk-names=chunks/[name]-[hash]</code></td>
<td></td>
</tr>
<tr>
<td><code>color</code></td>
<td>transform/build</td>
<td>当出现错误、警告时，是否使用有色标记。</td>
<td>-</td>
<td>true/false</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>conditions</code></td>
<td>build</td>
<td>不会</td>
<td></td>
<td></td>
<td><code>esbuild src/app.js --bundle --conditions=custom1,custom2</code></td>
<td></td>
</tr>
<tr>
<td><code>drop</code></td>
<td>transform/build</td>
<td>开始打包前删除一些代码</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --drop:debugger</code></td>
<td></td>
</tr>
<tr>
<td><code>entry-names</code></td>
<td>build</td>
<td>不会</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>footer</code></td>
<td>transform/build</td>
<td>输出时直接在js/css文件的结尾插入字符串。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild app.js --footer:js=//comment --footer:css=/*comment*/</code></td>
<td></td>
</tr>
<tr>
<td><code>global-name</code></td>
<td>transform/build</td>
<td>只与iife规范结合使用。设置全局变量</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --format=iife --global-name=abc</code></td>
<td></td>
</tr>
<tr>
<td><code>ignore-annotations</code></td>
<td>transform/build</td>
<td>是否删除注释</td>
<td>-</td>
<td>-</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>incremental</code></td>
<td>build</td>
<td>只在js、go api中使用。</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>jsx</code></td>
<td>transform/build</td>
<td>指定如何编译jsx</td>
<td>-</td>
<td>transform/preserve/automatic</td>
<td><code>esbuild in.js --bundle --loader=jsx --jsx=preserve</code></td>
<td></td>
</tr>
<tr>
<td><code>jsx-dev</code></td>
<td>transform/build</td>
<td>当jsx设置为automatic时，此字段控制是否把源文件及代码的位置信息打包</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --jsx=automatic --jsx-dev</code></td>
<td></td>
</tr>
<tr>
<td><code>jsx-factory</code></td>
<td>transform/build</td>
<td>设置使用哪个方法解析jsx</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --jsx-factory=h --loader=jsx</code></td>
<td></td>
</tr>
<tr>
<td><code>jsx-fragment</code></td>
<td>transform/build</td>
<td>指定处理jsx fragment的方法</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --jsx-fragment=Fragment --loader=jsx</code></td>
<td></td>
</tr>
<tr>
<td><code>jsx-import-source</code></td>
<td>transform/build</td>
<td>当jsx设置为automatic时，此选项控制从哪儿引入jsx helper的方法。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --jsx=automatic --jsx-import-source=preact</code></td>
<td></td>
</tr>
<tr>
<td><code>keep-names</code></td>
<td>transform/build</td>
<td>是否保留方法、class的名字</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>legal-comments</code></td>
<td>transform/build</td>
<td>如何处理遗留的注释</td>
<td>-</td>
<td>none/inline/eof/linked/external</td>
<td><code>esbuild in.js --bundle --legal-comments=eof</code></td>
<td></td>
</tr>
<tr>
<td><code>log-level</code></td>
<td>transform/build</td>
<td>如何处理log</td>
<td>-</td>
<td>silent/error/warning/info/debug/verbose</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>log-limit</code></td>
<td>transform/build</td>
<td>控制日志的数量。为0时不输出</td>
<td>-</td>
<td>-</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>log-override</code></td>
<td>transform/build</td>
<td>控制哪些的log可显示</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>main-field</code></td>
<td>build</td>
<td>不会</td>
<td>-</td>
<td>main/module/browser</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>mangle-props</code></td>
<td>transform/build</td>
<td>不会</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>metafile</code></td>
<td>build</td>
<td>定义分析时的输出格式</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>NODE_PATH</code></td>
<td>build</td>
<td>cjs时的环境变量</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>out-extension</code></td>
<td>build</td>
<td>自定义扩展名</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --outdir=dist --out-extension:.js=.mjs</code></td>
<td></td>
</tr>
<tr>
<td><code>outbase</code></td>
<td>build</td>
<td>设置输出时文件路径的base</td>
<td>-</td>
<td>-</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>preserve-symlinks</code></td>
<td>build</td>
<td>指定源文件的路径</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --preserve-symlinks --outfiles=out.js</code></td>
<td></td>
</tr>
<tr>
<td><code>public-path</code></td>
<td>build</td>
<td>与file loader一起使用时设置文件的前缀。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --loader:.png=file --public-pach=https://www.str.com/v1 --outdir=out</code></td>
<td></td>
</tr>
<tr>
<td><code>pure</code></td>
<td>transform/build</td>
<td>用于各种各样的js工具都使用这样的注释<code>/*@__PURE__*/</code>或<code>/*#__PURE__*/</code>表示若结果值未被使用，则该表达式可以删除。在tree shaking时会被删除。使用该字段标记可删除的。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --pure:document.createElement</code></td>
<td>若要删除console等，请使用相应的选项</td>
</tr>
<tr>
<td><code>resolve-extensions</code></td>
<td>build</td>
<td>指定解析无扩展名文件的扩展名顺序</td>
<td>-</td>
<td>'','.js','.json','.node'</td>
<td><code>esbuild in.js --bundle --resolve-extensions=.ts,.js</code></td>
<td></td>
</tr>
<tr>
<td><code>source-root</code></td>
<td>transform/build</td>
<td>当source map可用时，该字段指明相关的source map.</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --sourcemap --source-root=https://www.xx.com/path</code></td>
<td></td>
</tr>
<tr>
<td><code>sourcefile</code></td>
<td>transform/build</td>
<td>当没有输入文件名时，该字段设置输入文件名</td>
<td>-</td>
<td>-</td>
<td>`cat app.js</td>
<td>esbuild --bundle --sourcefile=abc.js --sourcemap`</td>
</tr>
<tr>
<td><code>sources-content</code></td>
<td>transform/build</td>
<td>在生成的sourceMap文件中是否使用sourcesContent字段</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --sourcemap --sources-content=false</code></td>
<td></td>
</tr>
<tr>
<td><em>stdin</em></td>
<td>build</td>
<td>设置输入</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>supported</code></td>
<td>transform/build</td>
<td>设置esbuild不支持语法，打包时遇到该语法会报错。</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --supoorted-bigint=false</code></td>
<td></td>
</tr>
<tr>
<td><code>tree-shaking</code></td>
<td>transform/build</td>
<td></td>
<td>当使用<code>--bundle</code>或<code>--format==iife</code>时默认启用。其他情况默认不启用。也可以强制启用</td>
<td>-</td>
<td><code>esbuild in.js --tree-shaking=true</code></td>
<td></td>
</tr>
<tr>
<td><code>tsconfig</code></td>
<td>build</td>
<td>自动覆盖<code>tsconfig.json</code>。可以自定义ts的配置文件</td>
<td>-</td>
<td>-</td>
<td><code>esbuild in.js --bundle --tsconfig-custom-tsconfig.json</code></td>
<td></td>
</tr>
<tr>
<td><code>tsconfig-raw</code></td>
<td>transform</td>
<td>当使用transform api时不使用访问文件系统，所以可以使用该字段设置</td>
<td>-</td>
<td>-</td>
<td>`echo xxx</td>
<td>esbuild --loader=ts --tsconfig-raw='{&quot;compilerOptions&quot;: {&quot;useDefineForClassFields&quot;: true}}'`</td>
</tr>
<tr>
<td><em>working directory</em></td>
<td>build</td>
<td>设置工作目录。不支持cli.</td>
<td>默认为当前工作目录</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><em>js-specific details</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="选项的补充说明">选项的补充说明</h2>
<h3 id="non-analyzable-imports">Non-analyzable imports</h3>
<p>esbuild只会打包静态引入。（当有动态引入时不打包）
有其他打包器支持打包动态引入。如<a href="/builder/webpack/index.html">webpack</a></p>
<h3 id="默认不打包">默认不打包</h3>
<p>因其默认不打包。要打包需要明确使用<code>--bundle</code>选项。</p>
<pre><code class="language-shell"><div>esbuild in.js --bundle
</div></code></pre>
<h3 id="external">external</h3>
<ul>
<li>排除明确不使用的代码</li>
<li>可以从node环境中引入的包</li>
</ul>
<p>解析路径前后都有应用。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>解析路径前</td>
<td>若路径像包路径（不以/或./或../开头）。该包内的所有路径标记为外部路径</td>
<td></td>
<td></td>
</tr>
<tr>
<td>解析路径后</td>
<td>把不像包路径的外部路径解析为绝对路径。</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="js编写规范">js编写规范</h3>
<p>esm可以运行在browser/node环境。
<code>&lt;script src=&quot;file.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</code><br>
<code>node --experimental-modules file.mjs</code></p>
<h3 id="压缩">压缩</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>--minify-whitespace</td>
<td>压缩空格</td>
</tr>
<tr>
<td>--minify-identifiers</td>
<td>压缩变量名</td>
</tr>
<tr>
<td>--minify-syntax</td>
<td>压缩语法</td>
</tr>
</tbody>
</table>
<p>注意：</p>
<ul>
<li>应当使用压缩时也使用target选项。默认esbuild会使用高级的现代js功能打包代码。若您不想使用现代js代码可以指定target选项。如<code>--target=es6</code></li>
<li><code>\n</code>被代替为newline</li>
<li>不压缩顶级变量名</li>
<li>压缩不是100%安全的。业界也做不到100%完全（包括terser）。尤其是esbuild不保护<code>.toString()</code>方法。若保存所有方法中的代码，则压缩很困难。即返回值调用<code>.toString()</code>可能会中断。</li>
<li>默认不会保护方法和class的<code>.name</code>。</li>
<li>有几个js的功能不能在优化、压缩时使用。如<code>eval</code>/<code>with</code>会阻止最小化标识符。<code>let result = eval(something)</code> =&gt; <code>let result = (0, eval)(someThing)</code></li>
<li>在优化和压缩时不使用的js code
<ul>
<li>dead-code</li>
<li>function inline</li>
<li>cross-statement constant propagtion</li>
<li>object shape modeling</li>
<li>allocation sinking</li>
<li>method devirtualization</li>
<li>symbolic execution</li>
<li>jsx expression hoisting</li>
<li>ty esum delecting ang inlining</li>
</ul>
</li>
</ul>
<h3 id="platform">platform</h3>
<ul>
<li>browser(默认值)
<ul>
<li>只使用<code>bundle</code>时，默认输出iife规范。</li>
<li>xx</li>
<li>xxx</li>
<li>package.json中exports的优先级大于browser/main/module等字段。</li>
<li>使用<code>build</code>api时，<code>process.env.NODE_ENV</code>默认为<code>&quot;production&quot;</code>。</li>
</ul>
</li>
<li>node
<ul>
<li>format默认为cjs</li>
<li>node环境已经存在的包，会被自动标记为<code>external</code>字段。</li>
<li>不会tree shaking</li>
<li>xxx</li>
</ul>
</li>
<li>neutral
<ul>
<li>默认输出esm.</li>
<li>请设置必要的字段。如<code>main</code></li>
<li>xxx</li>
</ul>
</li>
</ul>
<h3 id="serve">serve</h3>
<p>有三种方法启动本地服务</p>
<ul>
<li>使用<code>--watch</code>选项</li>
<li>在编辑器设置每次保存是启动esbuild</li>
<li>把服务器中设置为每次请求时rebuild</li>
</ul>
<h4 id="使用方法">使用方法</h4>
<ul>
<li>使用esbuild提供全部服务</li>
<li>只提供打包结果的服务</li>
</ul>
<p>使用js、go时可以设置参数：</p>
<pre><code class="language-ts"><div><span class="hljs-keyword">type</span> ServeOptions struct {
  Port      uint16
  Host      <span class="hljs-built_in">string</span>
  Servedir  <span class="hljs-built_in">string</span>
  OnRequest func(ServeOnRequestArgs)
}

<span class="hljs-keyword">type</span> ServeOnRequestArgs struct {
  RemoteAddress <span class="hljs-built_in">string</span>
  Method        <span class="hljs-built_in">string</span>
  Path          <span class="hljs-built_in">string</span>
  Status        int
  TimeInMS      int
}
</div></code></pre>
<p>返回值</p>
<pre><code class="language-ts"><div><span class="hljs-keyword">type</span> ServeResult struct {
  Port uint16
  Host <span class="hljs-built_in">string</span>
  Wait func() error
  Stop func()
}
</div></code></pre>
<h4 id="自定义服务器行为">自定义服务器行为</h4>
<p>xxx</p>
<h3 id="source-map"><a href="/sourceMap/index.html">source map</a></h3>
<p>现代浏览器默认启用代码地图。手动设置如下：</p>
<ul>
<li>chrome: 设置 -&gt; Enable Javascript source maps</li>
<li>Safari: 设置 -&gt; Sources -&gt; Enable source maps</li>
<li>chrome: Enable Source Maps</li>
</ul>
<p>node v12.12+开始支持代码地图。
<code>node --enable-source-maps app.js</code></p>
<h4 id="linked">linked</h4>
<p>生成与<code>*.js</code>同级的<code>*.js.map</code>。
在<code>*.js</code>中明确使用<code>//# sourceMappingURL=</code>指定<code>*.js.map</code>文件。浏览器会把二者联系起来。</p>
<h4 id="external-1">external</h4>
<p>生成与<code>*.js</code>同级的<code>*.js.map</code>。
在<code>*.js</code>中不使用<code>//# sourceMappingURL=</code></p>
<h4 id="inline">inline</h4>
<p>在<code>*.js</code>内使用<code>//# sourceMappingURL=</code>指定代码地图。</p>
<h4 id="both">both</h4>
<p>inline + external</p>
<h3 id="代码分割">代码分割</h3>
<p>目的</p>
<ul>
<li>多个入口都会到的公共文件。</li>
<li>异步使用<code>import()</code>加载代码。</li>
</ul>
<h3 id="asset-names">asset-names</h3>
<p>模板可用的占位符</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dir</td>
<td>相对于outbase的目录</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>原生的文件，无扩展名部分。</td>
<td></td>
</tr>
<tr>
<td>hash</td>
<td>关于内容的hash值，防止出现命名冲突。</td>
<td></td>
</tr>
<tr>
<td>ext</td>
<td>文件的扩展名</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="charset">charset</h3>
<p>esbuild默认输出ASCII.非ASCII的被当作逃逸字符处理，因该类字符无法解释给浏览器。因此出现了<code>&lt;meta charset=&quot;utf-8&quot;&gt;</code>、回馈头的<code>Content-Type</code>、让浏览器解析变慢。</p>
<p>注意</p>
<ul>
<li>不要在表达式中使用非ASCII</li>
<li>不会作用于备注</li>
<li><strong>同时作用于js/css/json</strong></li>
</ul>
<h3 id="chunk-names">chunk-names</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>hash</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ext</td>
<td></td>
<td></td>
<td><code>--chunk-name=chunks/[ext]/[name]-[hash]</code></td>
</tr>
</tbody>
</table>
<h3 id="conditions">conditions</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>它总是可以使用的，当无其他条件应用时使用此条件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>import</td>
<td>只在esm规范下使用</td>
<td></td>
<td></td>
</tr>
<tr>
<td>require</td>
<td>只在cjs规范下使用</td>
<td></td>
<td></td>
</tr>
<tr>
<td>browser</td>
<td>只在platform是browser时使用</td>
<td></td>
<td></td>
</tr>
<tr>
<td>node</td>
<td>只在platform是node时使用</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="drop">drop</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>debugger</td>
<td>删除debugger</td>
<td></td>
</tr>
<tr>
<td>console</td>
<td>删除console</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="jsx">jsx</h3>
<p>当设置为automatic时，由react决定是否转换。react v17+会自动轮换。</p>
<h3 id="legal-comments">legal-comments</h3>
<p>如何处理遗留注释</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>none</td>
<td>不保留</td>
<td></td>
<td></td>
</tr>
<tr>
<td>inline</td>
<td>保留</td>
<td></td>
<td></td>
</tr>
<tr>
<td>eof</td>
<td>全删除</td>
<td></td>
<td>与none有何区别</td>
</tr>
<tr>
<td>linked</td>
<td>把遗留注释放在<code>.LEGAL.txt</code>中再链接到原文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>external</td>
<td>把遗留注释放在<code>.LEGAL.txt</code>中不链接到原文件</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="log-level">log-level</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>silent</td>
<td>不输出日志</td>
<td></td>
<td></td>
</tr>
<tr>
<td>error</td>
<td>只输出错误日志</td>
<td></td>
<td></td>
</tr>
<tr>
<td>warining</td>
<td>输出错误日志和警告日志</td>
<td></td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>输出错误、警告、输出文件的概要</td>
<td></td>
<td></td>
</tr>
<tr>
<td>debug</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>verbose</td>
<td>显示全部信息</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="log-override">log-override</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>assign-to-constant</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>assign-to-import</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>call-import-namespace</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>commonjs-variable-in-esm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>delete-super-property</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>duplicate-case</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>duplicate-object-key</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>empty-import-meta</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>equals-nan</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>equals-negative-zero</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>eqauls-new-object</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>html-comment-in-js</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>impossible-typeof</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>indirect-require</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>private-name-will-throw</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>semicolon-after-return</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>suspicious-boolean-not</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>this-is-undefined-in-esm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-dynamic-import</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-jsx-comment</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-regexp</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-require-call</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>css-syntax-error</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-@charset</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-@import</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-@nest</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-@layer</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-calc</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>js-comment-in-css</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-@charset</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-@namespace</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-css-property</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ambiguous-reexport</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>differet-path-case</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ignored-bare-import</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ignored-dynamic-import</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>import-is-undefined</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>require-resolve-not-external</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>invalid-source-mapping</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>sections-in-source-map</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>missing-source-map</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>unsupported-source-map-comment</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>package.json</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>tsconfig.json</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="metafile">metafile</h3>
<pre><code class="language-ts"><div><span class="hljs-keyword">interface</span> Metadata {
  <span class="hljs-attr">inputs</span>: {
    [path: <span class="hljs-built_in">string</span>]: {
      <span class="hljs-attr">bytes</span>: <span class="hljs-built_in">number</span>
      <span class="hljs-attr">imports</span>: {
        <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>
        <span class="hljs-attr">kind</span>: <span class="hljs-built_in">string</span>
      }[]
    }
  }
  <span class="hljs-attr">outputs</span>: {
    [path: <span class="hljs-built_in">string</span>]: {
      <span class="hljs-attr">bytes</span>: <span class="hljs-built_in">number</span>
      <span class="hljs-attr">inputs</span>: {
        [path: <span class="hljs-built_in">string</span>]: {
          <span class="hljs-attr">bytesInOutput</span>: <span class="hljs-built_in">number</span>
        }
      }
      <span class="hljs-attr">imports</span>: {
        <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>
        <span class="hljs-attr">kind</span>: <span class="hljs-built_in">string</span>
      }[]
      <span class="hljs-attr">exports</span>: <span class="hljs-built_in">string</span>[]
      entryPoint?: <span class="hljs-built_in">string</span>
    }
  }
}
</div></code></pre>
<h3 id="supported">supported</h3>
<p>何时使用：</p>
<ul>
<li>
<p>使用新js语法写时快，转换为旧js语法运行时慢。</p>
</li>
<li>
<p>其他包已经支持，不用esbuild再支持。</p>
</li>
<li>
<p>使用esbuild与别的工具合作时。</p>
</li>
<li>
<p>arbitrary-module-namespace-names</p>
</li>
<li>
<p>array-spread</p>
</li>
<li>
<p>arrow</p>
</li>
<li>
<p>async-await</p>
</li>
<li>
<p>async-generator</p>
</li>
<li>
<p>bigint</p>
</li>
<li>
<p>class</p>
</li>
<li>
<p>class-field</p>
</li>
<li>
<p>class-private-accessor</p>
</li>
<li>
<p>class-private-brand-check</p>
</li>
<li>
<p>class-private-field</p>
</li>
<li>
<p>class-private-method</p>
</li>
<li>
<p>class-private-static-accessor</p>
</li>
<li>
<p>class-private-static-field</p>
</li>
<li>
<p>class-private-static-method</p>
</li>
<li>
<p>class-static-blocks</p>
</li>
<li>
<p>class-static-field</p>
</li>
<li>
<p>const-and-let</p>
</li>
<li>
<p>default-argument</p>
</li>
<li>
<p>destructuring</p>
</li>
<li>
<p>dynamic-import</p>
</li>
<li>
<p>exponent-operator</p>
</li>
<li>
<p>export-star-as</p>
</li>
<li>
<p>for-await</p>
</li>
<li>
<p>for-of</p>
</li>
<li>
<p>generator</p>
</li>
<li>
<p>hashbang</p>
</li>
<li>
<p>import-assertions</p>
</li>
<li>
<p>import-meta</p>
</li>
<li>
<p>logical-assignment</p>
</li>
<li>
<p>nested-rest-binding</p>
</li>
<li>
<p>new-target</p>
</li>
<li>
<p>node-colon-prefix-import</p>
</li>
<li>
<p>node-colon-prefix-require</p>
</li>
<li>
<p>nullish-coalescing</p>
</li>
<li>
<p>object-accessors</p>
</li>
<li>
<p>object-extensions</p>
</li>
<li>
<p>object-rest-spread</p>
</li>
<li>
<p>optional-catch-binding</p>
</li>
<li>
<p>optional-chain</p>
</li>
<li>
<p>regexp-dot-all-flag</p>
</li>
<li>
<p>regexp-lookbehind-assertions</p>
</li>
<li>
<p>regexp-match-indices</p>
</li>
<li>
<p>regexp-named-capture-groups</p>
</li>
<li>
<p>regexp-sticky-and-unicode-flags</p>
</li>
<li>
<p>regexp-unicode-property-escapes</p>
</li>
<li>
<p>rest-argument</p>
</li>
<li>
<p>template-literal</p>
</li>
<li>
<p>top-level-await</p>
</li>
<li>
<p>typeof-exotic-object-is-object</p>
</li>
<li>
<p>unicode-escapes</p>
</li>
<li>
<p>hex-rgba</p>
</li>
<li>
<p>rebecca-purple</p>
</li>
<li>
<p>modern-rgb-hsl</p>
</li>
<li>
<p>inset-property</p>
</li>
<li>
<p>nesting</p>
</li>
</ul>
<h2 id="在浏览器中运行">在浏览器中运行</h2>
<p>使用<code>esbuild-wasm</code>代替<code>esbuild</code></p>
<pre><code class="language-shell"><div>npm i esbuild-wasm
</div></code></pre>
<pre><code class="language-js"><div><span class="hljs-keyword">let</span> esbuild = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild-wasm&#x27;</span>)

esbuild.initialize({
  <span class="hljs-attr">wasmURL</span>: <span class="hljs-string">&#x27;./node_modules/esbuild-wasm/esbuild.wasm&#x27;</span>,
}).then(<span class="hljs-function">() =&gt;</span> {
  esbuild.transform(code, options).then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> { ... })
  esbuild.build(options).then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> { ... })
})
</div></code></pre>
<h2 id="loader">loader</h2>
<p>为esbuild做翻译工作。即使有些文件已经设置了默认loader，也可以覆盖默认值。</p>
<h3 id="js">js</h3>
<ul>
<li>加载<code>.js, .cjs, .mjs</code>时使用js loader.</li>
<li>默认输出高级写法</li>
<li>支持es5不太好。可以把es5输出为es6+。可以把es5输出为es5.</li>
<li>使用WeakMap/WeakSet输出私有成员(<code>#name</code>)</li>
<li>import会被提升到文件的顶部。</li>
<li>不要使用<code>eval</code></li>
<li>xxx</li>
<li>不维持方法中的this。</li>
<li>当输出default时，由esm转换cjs时有可能不兼容。</li>
<li>babel转换</li>
<li>node转换</li>
</ul>
<h3 id="ts">ts</h3>
<ul>
<li>loader是 ts或tsx</li>
<li>默认作用于 .ts .tsx .mts .cts</li>
</ul>
<h3 id="jsx-1">jsx</h3>
<ul>
<li>loader是 jsx或tsx</li>
<li>自动引入react等</li>
</ul>
<h3 id="json">json</h3>
<ul>
<li>loader是 json</li>
</ul>
<h3 id="css">css</h3>
<ul>
<li>loader是 css</li>
<li>因在xxx.js中引入的css，是输出xxx.css</li>
</ul>
<h3 id="text">text</h3>
<ul>
<li>loader是 text</li>
<li>作用于<code>.txt</code></li>
</ul>
<h3 id="binary">binary</h3>
<ul>
<li>loader是 binary</li>
<li>把文件当作binary buffer打包，再以base64嵌入</li>
</ul>
<h3 id="base64">base64</h3>
<ul>
<li>loader是 base64</li>
<li>把文件当作binary buffer打包，再以base64嵌入</li>
</ul>
<h3 id="dataurl">dataurl</h3>
<ul>
<li>loader是 dataurl</li>
<li>把文件当作binary buffer打包，再以base64-encode data url 形式输出 如：<code>data:image/png;base64,iVBORw0KGgo=</code></li>
</ul>
<h3 id="external-file">external file</h3>
<ul>
<li>file loader
<ul>
<li>把文件复制到输出目录。输出文件名。</li>
</ul>
</li>
<li>copy loader
<ul>
<li>把文件复制到输出目录。并重写引入路径</li>
</ul>
</li>
</ul>
<h2 id="plugin"><a href="/builder/esbuild/plugin/index.html">plugin</a></h2>
<table>
<thead>
<tr>
<th></th>
<th>cli</th>
<th>js</th>
<th>go</th>
</tr>
</thead>
<tbody>
<tr>
<td>transform</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>build</td>
<td>x</td>
<td>y</td>
<td>y</td>
</tr>
</tbody>
</table>
<ul>
<li>插件可以做什么？</li>
<li>如何与esbuild结合工作</li>
<li>基本结构是什么</li>
<li>如何使用</li>
</ul>
<h2 id="principle">principle</h2>
<p><img src="https://img-blog.csdnimg.cn/2021071720503017.png" alt="图片"></p>
<ul>
<li>变量命名太好了。（很准确、见文知意）</li>
</ul>
<h3 id="uml">uml</h3>
<pre><code><code><div></div></code></code></pre>
<h2 id="todo">todo</h2>
<h3 id="title">title</h3>
<h3 id="title-1">title</h3>
<h3 id="title-2">title</h3>
<h3 id="title-3">title</h3>
<h3 id="title-4">title</h3>
<h3 id="缺陷">缺陷</h3>
<ul>
<li>压缩<code>.toString()</code>时有问题</li>
<li>api有杂糅的情况。如platform+format</li>
<li>tree shaking只作用于cjs规范。</li>
<li>还有正在开发的工作。如：代码分割。</li>
<li>环境变量的例子太难懂了。</li>
<li>关于插件的文档写的不好</li>
</ul>
<h3 id="rollup"><a href="/builder/rollup/index.html">rollup</a></h3>
<p>esbuild有些不足为什么还基于它做工作。（可能是因不致命，或可以在二开中解决。）
写一builder还是挺难的。</p>
<h3 id="使用esbuild与别的工具合作甚至是打包工具">使用esbuild与别的工具合作，（甚至是打包工具）</h3>
<h3 id="eval">eval</h3>
<p><code>(0, eval)(&lt;expression&gt;)</code>
这里用了逗号操作符，逗号操作符总会返回表达式中的最后一项，所以0在这里基本上没有什么用，换成其他任意数值均可
然后通过”()”来立即执行这个表达式，返回eval</p>
<h3 id="总结">总结</h3>
<p>为了快有好多功能没做。不支持功能：</p>
<ul>
<li>降级输出</li>
<li>本可以再做的更宽泛，但是esbuild往宽的做，而是向精细的做。专注于做自己的事。</li>
</ul>
<h3 id="title-5">title</h3>

        
        
    </body>
    </html>